<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# mqtt

```go
import "github.com/Azure/iot-operations-sdks/go/mqtt"
```

## Index

- [Constants](<#constants>)
- [type ClientStateError](<#ClientStateError>)
  - [func \(e \*ClientStateError\) Error\(\) string](<#ClientStateError.Error>)
- [type ConnackError](<#ConnackError>)
  - [func \(e \*ConnackError\) Error\(\) string](<#ConnackError.Error>)
- [type ConnackPacket](<#ConnackPacket>)
- [type ConnectEvent](<#ConnectEvent>)
- [type ConnectNotificationHandler](<#ConnectNotificationHandler>)
- [type ConnectionError](<#ConnectionError>)
  - [func \(e \*ConnectionError\) Error\(\) string](<#ConnectionError.Error>)
  - [func \(e \*ConnectionError\) Unwrap\(\) error](<#ConnectionError.Unwrap>)
- [type DisconnectEvent](<#DisconnectEvent>)
- [type DisconnectNotificationHandler](<#DisconnectNotificationHandler>)
- [type DisconnectPacket](<#DisconnectPacket>)
- [type FatalDisconnectError](<#FatalDisconnectError>)
  - [func \(e \*FatalDisconnectError\) Error\(\) string](<#FatalDisconnectError.Error>)
- [type InvalidArgumentError](<#InvalidArgumentError>)
  - [func \(e \*InvalidArgumentError\) Error\(\) string](<#InvalidArgumentError.Error>)
  - [func \(e \*InvalidArgumentError\) Unwrap\(\) error](<#InvalidArgumentError.Unwrap>)
- [type InvalidOperationError](<#InvalidOperationError>)
  - [func \(e \*InvalidOperationError\) Error\(\) string](<#InvalidOperationError.Error>)
- [type Message](<#Message>)
- [type MessageHandler](<#MessageHandler>)
- [type PahoClient](<#PahoClient>)
- [type PublishOption](<#PublishOption>)
- [type PublishOptions](<#PublishOptions>)
- [type PublishQueueFullError](<#PublishQueueFullError>)
  - [func \(\*PublishQueueFullError\) Error\(\) string](<#PublishQueueFullError.Error>)
- [type RetryFailureError](<#RetryFailureError>)
  - [func \(e \*RetryFailureError\) Error\(\) string](<#RetryFailureError.Error>)
  - [func \(e \*RetryFailureError\) Unwrap\(\) error](<#RetryFailureError.Unwrap>)
- [type SessionClient](<#SessionClient>)
  - [func NewSessionClient\(serverURL string, opts ...SessionClientOption\) \(\*SessionClient, error\)](<#NewSessionClient>)
  - [func NewSessionClientFromConnectionString\(connStr string\) \(\*SessionClient, error\)](<#NewSessionClientFromConnectionString>)
  - [func NewSessionClientFromEnv\(\) \(\*SessionClient, error\)](<#NewSessionClientFromEnv>)
  - [func \(c \*SessionClient\) ClientID\(\) string](<#SessionClient.ClientID>)
  - [func \(c \*SessionClient\) Publish\(ctx context.Context, topic string, payload \[\]byte, opts ...PublishOption\) error](<#SessionClient.Publish>)
  - [func \(c \*SessionClient\) RegisterConnectNotificationHandler\(handler ConnectNotificationHandler\) \(unregisterHandler func\(\)\)](<#SessionClient.RegisterConnectNotificationHandler>)
  - [func \(c \*SessionClient\) RegisterDisconnectNotificationHandler\(handler DisconnectNotificationHandler\) \(unregisterHandler func\(\)\)](<#SessionClient.RegisterDisconnectNotificationHandler>)
  - [func \(c \*SessionClient\) RegisterFatalErrorHandler\(handler func\(error\)\) \(unregisterHandler func\(\)\)](<#SessionClient.RegisterFatalErrorHandler>)
  - [func \(c \*SessionClient\) RegisterMessageHandler\(handler MessageHandler\) func\(\)](<#SessionClient.RegisterMessageHandler>)
  - [func \(c \*SessionClient\) Start\(\) error](<#SessionClient.Start>)
  - [func \(c \*SessionClient\) Stop\(\) error](<#SessionClient.Stop>)
  - [func \(c \*SessionClient\) Subscribe\(ctx context.Context, topic string, opts ...SubscribeOption\) error](<#SessionClient.Subscribe>)
  - [func \(c \*SessionClient\) Unsubscribe\(ctx context.Context, topic string, opts ...UnsubscribeOption\) error](<#SessionClient.Unsubscribe>)
- [type SessionClientOption](<#SessionClientOption>)
  - [func WithCaFile\(caFile string\) SessionClientOption](<#WithCaFile>)
  - [func WithCaRequireRevocationCheck\(revocationCheck bool\) SessionClientOption](<#WithCaRequireRevocationCheck>)
  - [func WithCertFile\(certFile string\) SessionClientOption](<#WithCertFile>)
  - [func WithClientID\(clientID string\) SessionClientOption](<#WithClientID>)
  - [func WithConnRetry\(connRetry retrypolicy.RetryPolicy\) SessionClientOption](<#WithConnRetry>)
  - [func WithConnectPropertiesUser\(user map\[string\]string\) SessionClientOption](<#WithConnectPropertiesUser>)
  - [func WithConnectionTimeout\(connectionTimeout time.Duration\) SessionClientOption](<#WithConnectionTimeout>)
  - [func WithDebugMode\(debugMode bool\) SessionClientOption](<#WithDebugMode>)
  - [func WithKeepAlive\(keepAlive time.Duration\) SessionClientOption](<#WithKeepAlive>)
  - [func WithKeyFile\(keyFile string\) SessionClientOption](<#WithKeyFile>)
  - [func WithKeyFilePassword\(keyFilePassword string\) SessionClientOption](<#WithKeyFilePassword>)
  - [func WithPassword\(password \[\]byte\) SessionClientOption](<#WithPassword>)
  - [func WithPasswordFile\(passwordFile string\) SessionClientOption](<#WithPasswordFile>)
  - [func WithReceiveMaximum\(receiveMaximum uint16\) SessionClientOption](<#WithReceiveMaximum>)
  - [func WithSessionExpiry\(sessionExpiry time.Duration\) SessionClientOption](<#WithSessionExpiry>)
  - [func WithTLSConfig\(tlsConfig \*tls.Config\) SessionClientOption](<#WithTLSConfig>)
  - [func WithUseTLS\(useTLS bool\) SessionClientOption](<#WithUseTLS>)
  - [func WithUsername\(username string\) SessionClientOption](<#WithUsername>)
  - [func WithWillMessagePayload\(payload \[\]byte\) SessionClientOption](<#WithWillMessagePayload>)
  - [func WithWillMessageQoS\(qos byte\) SessionClientOption](<#WithWillMessageQoS>)
  - [func WithWillMessageRetain\(retain bool\) SessionClientOption](<#WithWillMessageRetain>)
  - [func WithWillMessageTopic\(topic string\) SessionClientOption](<#WithWillMessageTopic>)
  - [func WithWillPropertiesContentType\(contentType string\) SessionClientOption](<#WithWillPropertiesContentType>)
  - [func WithWillPropertiesCorrelationData\(correlationData \[\]byte\) SessionClientOption](<#WithWillPropertiesCorrelationData>)
  - [func WithWillPropertiesMessageExpiry\(messageExpiry time.Duration\) SessionClientOption](<#WithWillPropertiesMessageExpiry>)
  - [func WithWillPropertiesPayloadFormat\(payloadFormat byte\) SessionClientOption](<#WithWillPropertiesPayloadFormat>)
  - [func WithWillPropertiesResponseTopic\(responseTopic string\) SessionClientOption](<#WithWillPropertiesResponseTopic>)
  - [func WithWillPropertiesUser\(user map\[string\]string\) SessionClientOption](<#WithWillPropertiesUser>)
  - [func WithWillPropertiesWillDelayInterval\(willDelayInterval time.Duration\) SessionClientOption](<#WithWillPropertiesWillDelayInterval>)
- [type SessionLostError](<#SessionLostError>)
  - [func \(\*SessionLostError\) Error\(\) string](<#SessionLostError.Error>)
- [type SubscribeOption](<#SubscribeOption>)
- [type SubscribeOptions](<#SubscribeOptions>)
- [type UnsubscribeOption](<#UnsubscribeOption>)
- [type UnsubscribeOptions](<#UnsubscribeOptions>)
- [type WillMessage](<#WillMessage>)
- [type WillProperties](<#WillProperties>)
- [type WithContentType](<#WithContentType>)
- [type WithCorrelationData](<#WithCorrelationData>)
- [type WithMessageExpiry](<#WithMessageExpiry>)
- [type WithNoLocal](<#WithNoLocal>)
- [type WithPayloadFormat](<#WithPayloadFormat>)
- [type WithQoS](<#WithQoS>)
- [type WithResponseTopic](<#WithResponseTopic>)
- [type WithRetain](<#WithRetain>)
- [type WithRetainHandling](<#WithRetainHandling>)
- [type WithUserProperties](<#WithUserProperties>)


## Constants

<a name="NotStarted"></a>

```go
const (
    // Run() has not yet been called on this SessionClient instance.
    NotStarted = iota
    // Run() has been called on this SessionClient instance and it has not been
    // shut down.
    Started
    // This SessionClient instance ran but was shut down due the user's request
    // or due to a fatal error.
    ShutDown
)
```

<a name="ClientStateError"></a>
## type [ClientStateError](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L22-L25>)

ClientStateError is returned when the operation cannot proceed due to the state of the SessionClient.

```go
type ClientStateError struct {
    // Must be NotStarted, Started, or ShutDown
    State int
}
```

<a name="ClientStateError.Error"></a>
### func \(\*ClientStateError\) [Error](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L27>)

```go
func (e *ClientStateError) Error() string
```



<a name="ConnackError"></a>
## type [ConnackError](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L126-L129>)

ConnackError is returned by Run\(\) if the SessionClient terminates due to receiving a CONNACK with an error reason code. ConnackError is always wrapped by RetryFailureError, and may be checked using errors.As\(\) from the Go standard library.

```go
type ConnackError struct {
    // Must be set
    ReasonCode byte
}
```

<a name="ConnackError.Error"></a>
### func \(\*ConnackError\) [Error](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L131>)

```go
func (e *ConnackError) Error() string
```



<a name="ConnackPacket"></a>
## type [ConnackPacket](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/connect.go#L15-L19>)



```go
type ConnackPacket struct {
    ReasonCode byte
}
```

<a name="ConnectEvent"></a>
## type [ConnectEvent](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/connect.go#L21-L24>)



```go
type ConnectEvent struct {
    // Values from the CONNACK packet received from the MQTT server
    ConnackPacket *ConnackPacket
}
```

<a name="ConnectNotificationHandler"></a>
## type [ConnectNotificationHandler](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/connect.go#L26>)



```go
type ConnectNotificationHandler = func(*ConnectEvent)
```

<a name="ConnectionError"></a>
## type [ConnectionError](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L101-L107>)

ConnectionError is returned by Run\(\) if the SessionClient terminates due to an issue opening the network connection to the MQTT server. ConnectionError is always wrapped by RetryFailureError, and may be checked using errors.As\(\) from the Go standard library. ConnectionError may wrap the underlying error that occurred when attempting to open the network connection, which is done using Go standard error wrapping.

```go
type ConnectionError struct {
    // contains filtered or unexported fields
}
```

<a name="ConnectionError.Error"></a>
### func \(\*ConnectionError\) [Error](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L109>)

```go
func (e *ConnectionError) Error() string
```



<a name="ConnectionError.Unwrap"></a>
### func \(\*ConnectionError\) [Unwrap](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L116>)

```go
func (e *ConnectionError) Unwrap() error
```



<a name="DisconnectEvent"></a>
## type [DisconnectEvent](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/connect.go#L34-L39>)



```go
type DisconnectEvent struct {
    // Values from the DISCONNECT packet received from the MQTT server. May
    // be nil if the disconnection ocurred without receiving a DISCONNECT
    // packet from the server.
    DisconnectPacket *DisconnectPacket
}
```

<a name="DisconnectNotificationHandler"></a>
## type [DisconnectNotificationHandler](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/connect.go#L41>)



```go
type DisconnectNotificationHandler = func(*DisconnectEvent)
```

<a name="DisconnectPacket"></a>
## type [DisconnectPacket](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/connect.go#L28-L32>)



```go
type DisconnectPacket struct {
    ReasonCode byte
}
```

<a name="FatalDisconnectError"></a>
## type [FatalDisconnectError](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L46-L49>)

FatalDisconnectError is returned by Run\(\) if the SessionClient terminates due to receiving a DISCONNECT packet from the server with a reason code that is deemed to be fatal.

```go
type FatalDisconnectError struct {
    // Must be set
    ReasonCode byte
}
```

<a name="FatalDisconnectError.Error"></a>
### func \(\*FatalDisconnectError\) [Error](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L51>)

```go
func (e *FatalDisconnectError) Error() string
```



<a name="InvalidArgumentError"></a>
## type [InvalidArgumentError](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L143-L149>)

InvalidArgumentError is used to indicate when the user has provided an invalid value for an option. InvalidArgumentError may wrap any relevant using Go standard error warpping.

```go
type InvalidArgumentError struct {
    // contains filtered or unexported fields
}
```

<a name="InvalidArgumentError.Error"></a>
### func \(\*InvalidArgumentError\) [Error](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L151>)

```go
func (e *InvalidArgumentError) Error() string
```



<a name="InvalidArgumentError.Unwrap"></a>
### func \(\*InvalidArgumentError\) [Unwrap](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L158>)

```go
func (e *InvalidArgumentError) Unwrap() error
```



<a name="InvalidOperationError"></a>
## type [InvalidOperationError](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L179-L181>)

InvalidOperationError is returned if the user attempts to make a function call that is invalid \(e.g., attempting to ack a QoS 0 message\).

```go
type InvalidOperationError struct {
    // contains filtered or unexported fields
}
```

<a name="InvalidOperationError.Error"></a>
### func \(\*InvalidOperationError\) [Error](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L183>)

```go
func (e *InvalidOperationError) Error() string
```



<a name="Message"></a>
## type [Message](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L10>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type Message = mqtt.Message
```

<a name="MessageHandler"></a>
## type [MessageHandler](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L11>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type MessageHandler = mqtt.MessageHandler
```

<a name="PahoClient"></a>
## type [PahoClient](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/client.go#L37-L75>)

PahoClient is the interface for the underlying MQTTv5 client used by ManagedClient, intended for future client swapping and testing purpose. Currently, the Paho client serves as the core implementation.

```go
type PahoClient interface {
    Connect(
        ctx context.Context,
        packet *paho.Connect,
    ) (*paho.Connack, error)

    Disconnect(
        packet *paho.Disconnect,
    ) error

    Subscribe(
        ctx context.Context,
        packet *paho.Subscribe,
    ) (*paho.Suback, error)

    Unsubscribe(
        ctx context.Context,
        packet *paho.Unsubscribe,
    ) (*paho.Unsuback, error)

    PublishWithOptions(
        ctx context.Context,
        packet *paho.Publish,
        options paho.PublishOptions,
    ) (*paho.PublishResponse, error)

    AddOnPublishReceived(
        f func(paho.PublishReceived) (bool, error),
    ) func()

    Ack(
        pb *paho.Publish,
    ) error

    Authenticate(
        ctx context.Context,
        auth *paho.Auth,
    ) (*paho.AuthResponse, error)
}
```

<a name="PublishOption"></a>
## type [PublishOption](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L18>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type PublishOption = mqtt.PublishOption
```

<a name="PublishOptions"></a>
## type [PublishOptions](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L17>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type PublishOptions = mqtt.PublishOptions
```

<a name="PublishQueueFullError"></a>
## type [PublishQueueFullError](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L169>)

PublishQueueFullError is returned by Publish\(\) to indicate that there are too many publishes enqueued and the SessionClient is not accepting any more. This should very rarely occur, and if it does, it is a sign that either the connection is unstable or the application is sending messages at a faster rate than can be handled by the SessionClient or broker.

```go
type PublishQueueFullError struct{}
```

<a name="PublishQueueFullError.Error"></a>
### func \(\*PublishQueueFullError\) [Error](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L171>)

```go
func (*PublishQueueFullError) Error() string
```



<a name="RetryFailureError"></a>
## type [RetryFailureError](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L74-L77>)

RetryFailureError is returned by Run\(\) if the session client terminates due to reconnections failing and exhausting the retry policy. It wraps the last seen error using standard Go error wrapping.

```go
type RetryFailureError struct {
    // contains filtered or unexported fields
}
```

<a name="RetryFailureError.Error"></a>
### func \(\*RetryFailureError\) [Error](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L79>)

```go
func (e *RetryFailureError) Error() string
```



<a name="RetryFailureError.Unwrap"></a>
### func \(\*RetryFailureError\) [Unwrap](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L86>)

```go
func (e *RetryFailureError) Unwrap() error
```



<a name="SessionClient"></a>
## type [SessionClient](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client.go#L22-L86>)

SessionClient implements an MQTT Session client supporting MQTT v5 with QoS 0 and QoS 1 support.

```go
type SessionClient struct {
    // contains filtered or unexported fields
}
```

<a name="NewSessionClient"></a>
### func [NewSessionClient](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client.go#L136-L139>)

```go
func NewSessionClient(serverURL string, opts ...SessionClientOption) (*SessionClient, error)
```

NewSessionClient constructs a new session client with user options.

<a name="NewSessionClientFromConnectionString"></a>
### func [NewSessionClientFromConnectionString](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client.go#L163-L165>)

```go
func NewSessionClientFromConnectionString(connStr string) (*SessionClient, error)
```

NewSessionClientFromConnectionString constructs a new session client from an user\-defined connection string.

<a name="NewSessionClientFromEnv"></a>
### func [NewSessionClientFromEnv](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client.go#L183>)

```go
func NewSessionClientFromEnv() (*SessionClient, error)
```

NewSessionClientFromEnv constructs a new session client from user's environment variables.

<a name="SessionClient.ClientID"></a>
### func \(\*SessionClient\) [ClientID](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client.go#L199>)

```go
func (c *SessionClient) ClientID() string
```



<a name="SessionClient.Publish"></a>
### func \(\*SessionClient\) [Publish](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/publish.go#L111-L116>)

```go
func (c *SessionClient) Publish(ctx context.Context, topic string, payload []byte, opts ...PublishOption) error
```



<a name="SessionClient.RegisterConnectNotificationHandler"></a>
### func \(\*SessionClient\) [RegisterConnectNotificationHandler](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/connect.go#L49-L51>)

```go
func (c *SessionClient) RegisterConnectNotificationHandler(handler ConnectNotificationHandler) (unregisterHandler func())
```

RegisterConnectNotificationHandler registers a handler to a list of handlers that are called synchronously in registration order whenever the SessionClient successfully establishes an MQTT connection. Note that since the handler gets called synchronously, handlers should not block for an extended period of time to avoid blocking the SessionClient.

<a name="SessionClient.RegisterDisconnectNotificationHandler"></a>
### func \(\*SessionClient\) [RegisterDisconnectNotificationHandler](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/connect.go#L60-L62>)

```go
func (c *SessionClient) RegisterDisconnectNotificationHandler(handler DisconnectNotificationHandler) (unregisterHandler func())
```

RegisterDisconnectNotificationHandler registers a handler to a list of handlers that are called synchronously in registration order whenever the SessionClient detects a disconnection from the MQTT server. Note that since the handler gets called synchronously, handlers should not block for an extended period of time to avoid blocking the SessionClient.

<a name="SessionClient.RegisterFatalErrorHandler"></a>
### func \(\*SessionClient\) [RegisterFatalErrorHandler](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/connect.go#L68-L70>)

```go
func (c *SessionClient) RegisterFatalErrorHandler(handler func(error)) (unregisterHandler func())
```

RegisterFatalErrorHandler registers a handler that is called in a goroutine if the SessionClient terminates due to a fatal error.

<a name="SessionClient.RegisterMessageHandler"></a>
### func \(\*SessionClient\) [RegisterMessageHandler](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/subscribe.go#L66>)

```go
func (c *SessionClient) RegisterMessageHandler(handler MessageHandler) func()
```

RegisterMessageHandler registers a message handler on this client. Returns a callback to remove the message handler.

<a name="SessionClient.Start"></a>
### func \(\*SessionClient\) [Start](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/connect.go#L77>)

```go
func (c *SessionClient) Start() error
```

Start starts the SessionClient, spawning any necessary background goroutines. In order to terminate the SessionClient and clean up any running goroutines, Stop\(\) must be called after calling Start\(\).

<a name="SessionClient.Stop"></a>
### func \(\*SessionClient\) [Stop](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/connect.go#L112>)

```go
func (c *SessionClient) Stop() error
```

Stop stops the SessionClient, terminating any pending operations and cleaning up background goroutines.

<a name="SessionClient.Subscribe"></a>
### func \(\*SessionClient\) [Subscribe](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/subscribe.go#L79-L83>)

```go
func (c *SessionClient) Subscribe(ctx context.Context, topic string, opts ...SubscribeOption) error
```



<a name="SessionClient.Unsubscribe"></a>
### func \(\*SessionClient\) [Unsubscribe](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/subscribe.go#L135-L139>)

```go
func (c *SessionClient) Unsubscribe(ctx context.Context, topic string, opts ...UnsubscribeOption) error
```



<a name="SessionClientOption"></a>
## type [SessionClientOption](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L12>)



```go
type SessionClientOption func(*SessionClient)
```

<a name="WithCaFile"></a>
### func [WithCaFile](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L328-L330>)

```go
func WithCaFile(caFile string) SessionClientOption
```

WithCaFile sets the caFile for the connection settings.

<a name="WithCaRequireRevocationCheck"></a>
### func [WithCaRequireRevocationCheck](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L338-L340>)

```go
func WithCaRequireRevocationCheck(revocationCheck bool) SessionClientOption
```

WithCaRequireRevocationCheck sets the caRequireRevocationCheck for the connection settings.

<a name="WithCertFile"></a>
### func [WithCertFile](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L301-L303>)

```go
func WithCertFile(certFile string) SessionClientOption
```

WithCertFile sets the certFile for the connection settings.

<a name="WithClientID"></a>
### func [WithClientID](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L53-L55>)

```go
func WithClientID(clientID string) SessionClientOption
```

WithClientID sets clientID for the connection settings.

<a name="WithConnRetry"></a>
### func [WithConnRetry](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L26-L28>)

```go
func WithConnRetry(connRetry retrypolicy.RetryPolicy) SessionClientOption
```

WithConnRetry sets connRetry for the MQTT session client.

<a name="WithConnectPropertiesUser"></a>
### func [WithConnectPropertiesUser](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L146-L148>)

```go
func WithConnectPropertiesUser(user map[string]string) SessionClientOption
```

WithConnectPropertiesUser sets the user properties for the CONNECT packet.

<a name="WithConnectionTimeout"></a>
### func [WithConnectionTimeout](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L128-L130>)

```go
func WithConnectionTimeout(connectionTimeout time.Duration) SessionClientOption
```

WithConnectionTimeout sets the connectionTimeout for the connection settings. If connectionTimeout is 0, connection will have no timeout. Note the connectionTimeout would work with retrypolicy \`connRetry\`.

<a name="WithDebugMode"></a>
### func [WithDebugMode](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L15-L17>)

```go
func WithDebugMode(debugMode bool) SessionClientOption
```

WithDebugMode set the debugMode flag for the MQTT session client.

<a name="WithKeepAlive"></a>
### func [WithKeepAlive](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L89-L91>)

```go
func WithKeepAlive(keepAlive time.Duration) SessionClientOption
```

WithKeepAlive sets the keepAlive interval for the MQTT connection.

<a name="WithKeyFile"></a>
### func [WithKeyFile](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L310-L312>)

```go
func WithKeyFile(keyFile string) SessionClientOption
```

WithKeyFile sets the keyFile for the connection settings.

<a name="WithKeyFilePassword"></a>
### func [WithKeyFilePassword](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L319-L321>)

```go
func WithKeyFilePassword(keyFilePassword string) SessionClientOption
```

WithKeyFilePassword sets the keyFilePassword for the connection settings.

<a name="WithPassword"></a>
### func [WithPassword](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L71-L73>)

```go
func WithPassword(password []byte) SessionClientOption
```

WithPassword sets the password for the connection settings.

<a name="WithPasswordFile"></a>
### func [WithPasswordFile](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L80-L82>)

```go
func WithPasswordFile(passwordFile string) SessionClientOption
```

WithPasswordFile sets the passwordFile for the connection settings.

<a name="WithReceiveMaximum"></a>
### func [WithReceiveMaximum](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L117-L119>)

```go
func WithReceiveMaximum(receiveMaximum uint16) SessionClientOption
```

WithReceiveMaximum sets the receive maximum for the connection settings.

<a name="WithSessionExpiry"></a>
### func [WithSessionExpiry](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L98-L100>)

```go
func WithSessionExpiry(sessionExpiry time.Duration) SessionClientOption
```

WithSessionExpiry sets the sessionExpiry for the connection settings.

<a name="WithTLSConfig"></a>
### func [WithTLSConfig](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L292-L294>)

```go
func WithTLSConfig(tlsConfig *tls.Config) SessionClientOption
```

WithTLSConfig sets the TLS configuration for the connection settings.

<a name="WithUseTLS"></a>
### func [WithUseTLS](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L283-L285>)

```go
func WithUseTLS(useTLS bool) SessionClientOption
```

WithUseTLS enables or disables the use of TLS for the connection settings.

<a name="WithUsername"></a>
### func [WithUsername](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L62-L64>)

```go
func WithUsername(username string) SessionClientOption
```

WithUsername sets the username for the connection settings.

<a name="WithWillMessagePayload"></a>
### func [WithWillMessagePayload](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L194-L196>)

```go
func WithWillMessagePayload(payload []byte) SessionClientOption
```

WithWillMessagePayload sets the Payload for the WillMessage.

<a name="WithWillMessageQoS"></a>
### func [WithWillMessageQoS](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L176-L178>)

```go
func WithWillMessageQoS(qos byte) SessionClientOption
```

WithWillMessageQoS sets the QoS for the WillMessage.

<a name="WithWillMessageRetain"></a>
### func [WithWillMessageRetain](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L167-L169>)

```go
func WithWillMessageRetain(retain bool) SessionClientOption
```

WithWillMessageRetain sets the Retain for the WillMessage.

<a name="WithWillMessageTopic"></a>
### func [WithWillMessageTopic](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L185-L187>)

```go
func WithWillMessageTopic(topic string) SessionClientOption
```

WithWillMessageTopic sets the Topic for the WillMessage.

<a name="WithWillPropertiesContentType"></a>
### func [WithWillPropertiesContentType](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L243-L245>)

```go
func WithWillPropertiesContentType(contentType string) SessionClientOption
```

WithWillPropertiesContentType sets the ContentType for the WillProperties.

<a name="WithWillPropertiesCorrelationData"></a>
### func [WithWillPropertiesCorrelationData](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L263-L265>)

```go
func WithWillPropertiesCorrelationData(correlationData []byte) SessionClientOption
```

WithWillPropertiesCorrelationData sets the CorrelationData for the WillProperties.

<a name="WithWillPropertiesMessageExpiry"></a>
### func [WithWillPropertiesMessageExpiry](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L234-L236>)

```go
func WithWillPropertiesMessageExpiry(messageExpiry time.Duration) SessionClientOption
```

WithWillPropertiesMessageExpiry sets the MessageExpiry for the WillProperties.

<a name="WithWillPropertiesPayloadFormat"></a>
### func [WithWillPropertiesPayloadFormat](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L214-L216>)

```go
func WithWillPropertiesPayloadFormat(payloadFormat byte) SessionClientOption
```

WithWillPropertiesPayloadFormat sets the PayloadFormat for the WillProperties.

<a name="WithWillPropertiesResponseTopic"></a>
### func [WithWillPropertiesResponseTopic](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L253-L255>)

```go
func WithWillPropertiesResponseTopic(responseTopic string) SessionClientOption
```

WithWillPropertiesResponseTopic sets the ResponseTopic for the WillProperties.

<a name="WithWillPropertiesUser"></a>
### func [WithWillPropertiesUser](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L272-L274>)

```go
func WithWillPropertiesUser(user map[string]string) SessionClientOption
```

WithWillPropertiesUser sets the User properties for the WillProperties.

<a name="WithWillPropertiesWillDelayInterval"></a>
### func [WithWillPropertiesWillDelayInterval](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/session_client_options.go#L224-L226>)

```go
func WithWillPropertiesWillDelayInterval(willDelayInterval time.Duration) SessionClientOption
```

WithWillPropertiesWillDelayInterval sets the WillDelayInterval for the WillProperties.

<a name="SessionLostError"></a>
## type [SessionLostError](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L63>)

SessionLostError is returned by Run\(\) if the SessionClient terminates due to receiving a CONNACK from the server with session present false when reconnecting.

```go
type SessionLostError struct{}
```

<a name="SessionLostError.Error"></a>
### func \(\*SessionLostError\) [Error](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/errors.go#L65>)

```go
func (*SessionLostError) Error() string
```



<a name="SubscribeOption"></a>
## type [SubscribeOption](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L14>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type SubscribeOption = mqtt.SubscribeOption
```

<a name="SubscribeOptions"></a>
## type [SubscribeOptions](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L13>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type SubscribeOptions = mqtt.SubscribeOptions
```

<a name="UnsubscribeOption"></a>
## type [UnsubscribeOption](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L16>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type UnsubscribeOption = mqtt.UnsubscribeOption
```

<a name="UnsubscribeOptions"></a>
## type [UnsubscribeOptions](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L15>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type UnsubscribeOptions = mqtt.UnsubscribeOptions
```

<a name="WillMessage"></a>
## type [WillMessage](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/client.go#L15-L20>)

WillMessage is a representation of the LWT message that can be sent with the Connect packet.

```go
type WillMessage struct {
    Retain  bool
    QoS     byte
    Topic   string
    Payload []byte
}
```

<a name="WillProperties"></a>
## type [WillProperties](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/client.go#L24-L32>)

WillProperties is a struct of the properties that can be set for a Will in a Connect packet.

```go
type WillProperties struct {
    PayloadFormat     byte
    WillDelayInterval time.Duration
    MessageExpiry     time.Duration
    ContentType       string
    ResponseTopic     string
    CorrelationData   []byte
    User              map[string]string
}
```

<a name="WithContentType"></a>
## type [WithContentType](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L20>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type WithContentType = mqtt.WithContentType
```

<a name="WithCorrelationData"></a>
## type [WithCorrelationData](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L21>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type WithCorrelationData = mqtt.WithCorrelationData
```

<a name="WithMessageExpiry"></a>
## type [WithMessageExpiry](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L22>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type WithMessageExpiry = mqtt.WithMessageExpiry
```

<a name="WithNoLocal"></a>
## type [WithNoLocal](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L23>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type WithNoLocal = mqtt.WithNoLocal
```

<a name="WithPayloadFormat"></a>
## type [WithPayloadFormat](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L24>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type WithPayloadFormat = mqtt.WithPayloadFormat
```

<a name="WithQoS"></a>
## type [WithQoS](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L25>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type WithQoS = mqtt.WithQoS
```

<a name="WithResponseTopic"></a>
## type [WithResponseTopic](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L26>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type WithResponseTopic = mqtt.WithResponseTopic
```

<a name="WithRetain"></a>
## type [WithRetain](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L27>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type WithRetain = mqtt.WithRetain
```

<a name="WithRetainHandling"></a>
## type [WithRetainHandling](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L28>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type WithRetainHandling = mqtt.WithRetainHandling
```

<a name="WithUserProperties"></a>
## type [WithUserProperties](<https://github.com/Azure/iot-operations-sdks/blob/main/go/mqtt/alias.go#L29>)

As the implementation of the shared interface, all of its types are aliased for convenience.

```go
type WithUserProperties = mqtt.WithUserProperties
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
