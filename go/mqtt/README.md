<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# mqtt

```go
import "github.com/microsoft/mqtt-patterns/lib/go/mqtt"
```

## Index

- [type AuthDataProvider](<#AuthDataProvider>)
- [type AuthOption](<#AuthOption>)
- [type AuthOptions](<#AuthOptions>)
  - [func \(o \*AuthOptions\) Apply\(opts \[\]AuthOption, rest ...AuthOption\)](<#AuthOptions.Apply>)
- [type Client](<#Client>)
- [type PahoClient](<#PahoClient>)
- [type SessionClient](<#SessionClient>)
  - [func NewSessionClient\(serverURL string, opts ...SessionClientOption\) \(\*SessionClient, error\)](<#NewSessionClient>)
  - [func NewSessionClientFromConnectionString\(connStr string\) \(\*SessionClient, error\)](<#NewSessionClientFromConnectionString>)
  - [func NewSessionClientFromEnv\(\) \(\*SessionClient, error\)](<#NewSessionClientFromEnv>)
  - [func \(c \*SessionClient\) ClientID\(\) string](<#SessionClient.ClientID>)
  - [func \(c \*SessionClient\) Connect\(ctx context.Context\) error](<#SessionClient.Connect>)
  - [func \(c \*SessionClient\) Disconnect\(\) error](<#SessionClient.Disconnect>)
  - [func \(c \*SessionClient\) Publish\(ctx context.Context, topic string, payload \[\]byte, opts ...mqtt.PublishOption\) error](<#SessionClient.Publish>)
  - [func \(c \*SessionClient\) Reauthenticate\(ctx context.Context, opts ...AuthOption\) error](<#SessionClient.Reauthenticate>)
  - [func \(c \*SessionClient\) Subscribe\(ctx context.Context, topic string, handler mqtt.MessageHandler, opts ...mqtt.SubscribeOption\) \(mqtt.Subscription, error\)](<#SessionClient.Subscribe>)
- [type SessionClientOption](<#SessionClientOption>)
  - [func WithAuthData\(authData \[\]byte\) SessionClientOption](<#WithAuthData>)
  - [func WithAuthDataProvider\(authDataProvider AuthDataProvider\) SessionClientOption](<#WithAuthDataProvider>)
  - [func WithAuthErrHandler\(authErrHandler func\(error\)\) SessionClientOption](<#WithAuthErrHandler>)
  - [func WithAuthHandler\(authHandler paho.Auther\) SessionClientOption](<#WithAuthHandler>)
  - [func WithAuthInterval\(authInterval time.Duration\) SessionClientOption](<#WithAuthInterval>)
  - [func WithAuthMethod\(authMethod string\) SessionClientOption](<#WithAuthMethod>)
  - [func WithCaFile\(caFile string\) SessionClientOption](<#WithCaFile>)
  - [func WithCaRequireRevocationCheck\(revocationCheck bool\) SessionClientOption](<#WithCaRequireRevocationCheck>)
  - [func WithCertFile\(certFile string\) SessionClientOption](<#WithCertFile>)
  - [func WithCleanStart\(cleanStart bool\) SessionClientOption](<#WithCleanStart>)
  - [func WithClientID\(clientID string\) SessionClientOption](<#WithClientID>)
  - [func WithConnRetry\(connRetry retrypolicy.RetryPolicy\) SessionClientOption](<#WithConnRetry>)
  - [func WithConnectPropertiesUser\(user map\[string\]string\) SessionClientOption](<#WithConnectPropertiesUser>)
  - [func WithConnectionTimeout\(connectionTimeout time.Duration\) SessionClientOption](<#WithConnectionTimeout>)
  - [func WithDebugMode\(debugMode bool\) SessionClientOption](<#WithDebugMode>)
  - [func WithFatalErrHandler\(fatalErrHandler func\(error\)\) SessionClientOption](<#WithFatalErrHandler>)
  - [func WithKeepAlive\(keepAlive time.Duration\) SessionClientOption](<#WithKeepAlive>)
  - [func WithKeyFile\(keyFile string\) SessionClientOption](<#WithKeyFile>)
  - [func WithKeyFilePassword\(keyFilePassword string\) SessionClientOption](<#WithKeyFilePassword>)
  - [func WithPahoClientConfig\(pahoClientConfig \*paho.ClientConfig\) SessionClientOption](<#WithPahoClientConfig>)
  - [func WithPahoClientFactory\(pahoClientFactory func\(\*paho.ClientConfig\) PahoClient\) SessionClientOption](<#WithPahoClientFactory>)
  - [func WithPassword\(password \[\]byte\) SessionClientOption](<#WithPassword>)
  - [func WithPasswordFile\(passwordFile string\) SessionClientOption](<#WithPasswordFile>)
  - [func WithReceiveMaximum\(receiveMaximum uint16\) SessionClientOption](<#WithReceiveMaximum>)
  - [func WithSatAuthFile\(satAuthFile string\) SessionClientOption](<#WithSatAuthFile>)
  - [func WithSessionExpiry\(sessionExpiry time.Duration\) SessionClientOption](<#WithSessionExpiry>)
  - [func WithShutdownHandler\(shutdownHandler func\(error\)\) SessionClientOption](<#WithShutdownHandler>)
  - [func WithTLSConfig\(tlsConfig \*tls.Config\) SessionClientOption](<#WithTLSConfig>)
  - [func WithUseTLS\(useTLS bool\) SessionClientOption](<#WithUseTLS>)
  - [func WithUsername\(username string\) SessionClientOption](<#WithUsername>)
  - [func WithWillMessagePayload\(payload \[\]byte\) SessionClientOption](<#WithWillMessagePayload>)
  - [func WithWillMessageQoS\(qos mqtt.QoS\) SessionClientOption](<#WithWillMessageQoS>)
  - [func WithWillMessageRetain\(retain bool\) SessionClientOption](<#WithWillMessageRetain>)
  - [func WithWillMessageTopic\(topic string\) SessionClientOption](<#WithWillMessageTopic>)
  - [func WithWillPropertiesContentType\(contentType string\) SessionClientOption](<#WithWillPropertiesContentType>)
  - [func WithWillPropertiesCorrelationData\(correlationData \[\]byte\) SessionClientOption](<#WithWillPropertiesCorrelationData>)
  - [func WithWillPropertiesMessageExpiry\(messageExpiry time.Duration\) SessionClientOption](<#WithWillPropertiesMessageExpiry>)
  - [func WithWillPropertiesPayloadFormat\(payloadFormat mqtt.PayloadFormat\) SessionClientOption](<#WithWillPropertiesPayloadFormat>)
  - [func WithWillPropertiesResponseTopic\(responseTopic string\) SessionClientOption](<#WithWillPropertiesResponseTopic>)
  - [func WithWillPropertiesUser\(user map\[string\]string\) SessionClientOption](<#WithWillPropertiesUser>)
  - [func WithWillPropertiesWillDelayInterval\(willDelayInterval time.Duration\) SessionClientOption](<#WithWillPropertiesWillDelayInterval>)
- [type WillMessage](<#WillMessage>)
- [type WillProperties](<#WillProperties>)
- [type WithReauthData](<#WithReauthData>)


<a name="AuthDataProvider"></a>
## type [AuthDataProvider](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/client.go#L42>)

AuthDataProvider is a user\-defined function used to provide new AuthData for refreshing authentication.

```go
type AuthDataProvider func(context.Context) []byte
```

<a name="AuthOption"></a>
## type [AuthOption](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/client.go#L38>)

AuthOption represents a single authentication option.

```go
type AuthOption interface {
    // contains filtered or unexported methods
}
```

<a name="AuthOptions"></a>
## type [AuthOptions](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/client.go#L15-L35>)

AuthOptions are the resolved options for enhanced authentication.

```go
type AuthOptions struct {
    AuthMethod string
    AuthData   []byte
    // Path to the auth data file.
    // If AuthData and SatAuthFile are provided both,
    // the SatAuthFile will take precedence.
    SatAuthFile string
    // User-defined function to refresh AuthData, such as SAT token.
    AuthDataProvider AuthDataProvider
    // If user provides AuthDataProvider, we start reauthentication
    // periodically in the background with the AuthInterval.
    AuthInterval time.Duration
    // Auther is an interface for user to implement autheticate logic.
    // type Auther interface {
    // 		// Authenticate will be called when an AUTH packet is received.
    // 		Authenticate(*paho.Auth) *paho.Auth
    // 		// Authenticated will be called when CONNACK is received.
    // 		Authenticated()
    // }
    AuthHandler paho.Auther
}
```

<a name="AuthOptions.Apply"></a>
### func \(\*AuthOptions\) [Apply](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/auth.go#L123-L126>)

```go
func (o *AuthOptions) Apply(opts []AuthOption, rest ...AuthOption)
```

Apply resolves the provided list of options.

<a name="Client"></a>
## type [Client](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/client.go#L12>)



```go
type Client = mqtt.Client
```

<a name="PahoClient"></a>
## type [PahoClient](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/client.go#L68-L105>)

PahoClient is the interface for the underlying MQTTv5 client used by ManagedClient, intended for future client swapping and testing purpose. Currently, the Paho client serves as the core implementation.

```go
type PahoClient interface {
    Connect(
        ctx context.Context,
        packet *paho.Connect,
    ) (*paho.Connack, error)

    Disconnect(
        packet *paho.Disconnect,
    ) error

    Subscribe(
        ctx context.Context,
        packet *paho.Subscribe,
    ) (*paho.Suback, error)

    Unsubscribe(
        ctx context.Context,
        packet *paho.Unsubscribe,
    ) (*paho.Unsuback, error)

    Publish(
        ctx context.Context,
        packet *paho.Publish,
    ) (*paho.PublishResponse, error)

    AddOnPublishReceived(
        f func(paho.PublishReceived) (bool, error),
    ) func()

    Ack(
        pb *paho.Publish,
    ) error

    Authenticate(
        ctx context.Context,
        auth *paho.Auth,
    ) (*paho.AuthResponse, error)
}
```

<a name="SessionClient"></a>
## type [SessionClient](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client.go#L25-L98>)

SessionClient implements an MQTT Session client supporting MQTT v5 with QoS 0 and QoS 1. TODO: Add support for QoS 2.

```go
type SessionClient struct {
    // contains filtered or unexported fields
}
```

<a name="NewSessionClient"></a>
### func [NewSessionClient](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client.go#L169-L172>)

```go
func NewSessionClient(serverURL string, opts ...SessionClientOption) (*SessionClient, error)
```

NewSessionClient constructs a new session client with user options.

<a name="NewSessionClientFromConnectionString"></a>
### func [NewSessionClientFromConnectionString](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client.go#L196-L198>)

```go
func NewSessionClientFromConnectionString(connStr string) (*SessionClient, error)
```

NewSessionClientFromConnectionString constructs a new session client from an user\-defined connection string.

<a name="NewSessionClientFromEnv"></a>
### func [NewSessionClientFromEnv](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client.go#L216>)

```go
func NewSessionClientFromEnv() (*SessionClient, error)
```

NewSessionClientFromEnv constructs a new session client from user's environment variables.

<a name="SessionClient.ClientID"></a>
### func \(\*SessionClient\) [ClientID](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client.go#L232>)

```go
func (c *SessionClient) ClientID() string
```



<a name="SessionClient.Connect"></a>
### func \(\*SessionClient\) [Connect](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/connect.go#L19>)

```go
func (c *SessionClient) Connect(ctx context.Context) error
```

Connect establishes a connection for the session client.

<a name="SessionClient.Disconnect"></a>
### func \(\*SessionClient\) [Disconnect](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/connect.go#L45>)

```go
func (c *SessionClient) Disconnect() error
```

Disconnect closes the connection gracefully by sending the disconnect packet to server and should terminate any active goroutines before returning.

<a name="SessionClient.Publish"></a>
### func \(\*SessionClient\) [Publish](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/publish.go#L11-L16>)

```go
func (c *SessionClient) Publish(ctx context.Context, topic string, payload []byte, opts ...mqtt.PublishOption) error
```



<a name="SessionClient.Reauthenticate"></a>
### func \(\*SessionClient\) [Reauthenticate](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/auth.go#L18-L21>)

```go
func (c *SessionClient) Reauthenticate(ctx context.Context, opts ...AuthOption) error
```

Reauthenticate initiates credential reauthentication with the server. It sends the initial Auth packet to start reauthentication, then relies on the user's AuthHandler to manage further requests from the server until a successful Auth packet is passed back or a Disconnect is received.

<a name="SessionClient.Subscribe"></a>
### func \(\*SessionClient\) [Subscribe](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/subscribe.go#L13-L18>)

```go
func (c *SessionClient) Subscribe(ctx context.Context, topic string, handler mqtt.MessageHandler, opts ...mqtt.SubscribeOption) (mqtt.Subscription, error)
```



<a name="SessionClientOption"></a>
## type [SessionClientOption](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L12>)



```go
type SessionClientOption func(*SessionClient)
```

<a name="WithAuthData"></a>
### func [WithAuthData](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L436-L438>)

```go
func WithAuthData(authData []byte) SessionClientOption
```

WithAuthData sets the authData for the auth options.

<a name="WithAuthDataProvider"></a>
### func [WithAuthDataProvider](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L454-L456>)

```go
func WithAuthDataProvider(authDataProvider AuthDataProvider) SessionClientOption
```

WithAuthDataProvider sets the authDataProvider for the auth options.

<a name="WithAuthErrHandler"></a>
### func [WithAuthErrHandler](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L70-L72>)

```go
func WithAuthErrHandler(authErrHandler func(error)) SessionClientOption
```

WithAuthErrHandler sets authErrHandler for the MQTT session client. The user\-defined function authErrHandler would be called when auto reauthentication returns an error.

<a name="WithAuthHandler"></a>
### func [WithAuthHandler](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L472-L474>)

```go
func WithAuthHandler(authHandler paho.Auther) SessionClientOption
```

WithAuthHandler sets the authHandler for the auth options.

<a name="WithAuthInterval"></a>
### func [WithAuthInterval](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L463-L465>)

```go
func WithAuthInterval(authInterval time.Duration) SessionClientOption
```

WithAuthInterval sets the authInterval for the auth options.

<a name="WithAuthMethod"></a>
### func [WithAuthMethod](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L427-L429>)

```go
func WithAuthMethod(authMethod string) SessionClientOption
```

WithAuthMethod sets the authMethod for the auth options.

<a name="WithCaFile"></a>
### func [WithCaFile](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L396-L398>)

```go
func WithCaFile(caFile string) SessionClientOption
```

WithCaFile sets the caFile for the connection settings.

<a name="WithCaRequireRevocationCheck"></a>
### func [WithCaRequireRevocationCheck](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L406-L408>)

```go
func WithCaRequireRevocationCheck(revocationCheck bool) SessionClientOption
```

WithCaRequireRevocationCheck sets the caRequireRevocationCheck for the connection settings.

<a name="WithCertFile"></a>
### func [WithCertFile](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L369-L371>)

```go
func WithCertFile(certFile string) SessionClientOption
```

WithCertFile sets the certFile for the connection settings.

<a name="WithCleanStart"></a>
### func [WithCleanStart](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L149-L151>)

```go
func WithCleanStart(cleanStart bool) SessionClientOption
```

WithCleanStart sets the cleanStart flag for the MQTT connection. It can be either true or false for the initial connection, however, this option does not affect the cleanStart flag on reconnect. It would be false internally for subsequent reconnections so we can reuse the old session.

<a name="WithClientID"></a>
### func [WithClientID](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L109-L111>)

```go
func WithClientID(clientID string) SessionClientOption
```

WithClientID sets clientID for the connection settings.

<a name="WithConnRetry"></a>
### func [WithConnRetry](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L48-L50>)

```go
func WithConnRetry(connRetry retrypolicy.RetryPolicy) SessionClientOption
```

WithConnRetry sets connRetry for the MQTT session client.

<a name="WithConnectPropertiesUser"></a>
### func [WithConnectPropertiesUser](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L215-L217>)

```go
func WithConnectPropertiesUser(user map[string]string) SessionClientOption
```

WithConnectPropertiesUser sets the user properties for the CONNECT packet.

<a name="WithConnectionTimeout"></a>
### func [WithConnectionTimeout](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L197-L199>)

```go
func WithConnectionTimeout(connectionTimeout time.Duration) SessionClientOption
```

WithConnectionTimeout sets the connectionTimeout for the connection settings. If connectionTimeout is 0, connection will have no timeout. Note the connectionTimeout would work with retrypolicy \`connRetry\`.

<a name="WithDebugMode"></a>
### func [WithDebugMode](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L37-L39>)

```go
func WithDebugMode(debugMode bool) SessionClientOption
```

WithDebugMode set the debugMode flag for the MQTT session client.

<a name="WithFatalErrHandler"></a>
### func [WithFatalErrHandler](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L59-L61>)

```go
func WithFatalErrHandler(fatalErrHandler func(error)) SessionClientOption
```

WithFatalErrHandler sets fatalErrHandler for the MQTT session client. The user\-defined fatalErrHandler would be called when fatal \(non\-retryable\) connection errors happens.

<a name="WithKeepAlive"></a>
### func [WithKeepAlive](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L158-L160>)

```go
func WithKeepAlive(keepAlive time.Duration) SessionClientOption
```

WithKeepAlive sets the keepAlive interval for the MQTT connection.

<a name="WithKeyFile"></a>
### func [WithKeyFile](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L378-L380>)

```go
func WithKeyFile(keyFile string) SessionClientOption
```

WithKeyFile sets the keyFile for the connection settings.

<a name="WithKeyFilePassword"></a>
### func [WithKeyFilePassword](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L387-L389>)

```go
func WithKeyFilePassword(keyFilePassword string) SessionClientOption
```

WithKeyFilePassword sets the keyFilePassword for the connection settings.

<a name="WithPahoClientConfig"></a>
### func [WithPahoClientConfig](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L28-L30>)

```go
func WithPahoClientConfig(pahoClientConfig *paho.ClientConfig) SessionClientOption
```

WithPahoClientConfig set the pahoClientConfig for the pahoClientFactory.

<a name="WithPahoClientFactory"></a>
### func [WithPahoClientFactory](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L19-L21>)

```go
func WithPahoClientFactory(pahoClientFactory func(*paho.ClientConfig) PahoClient) SessionClientOption
```

WithPahoClientFactory sets the pahoClientFactory for the MQTT session client. Please note that this is intended for injecting a stub Paho client for testing purposes and not for general use.

<a name="WithPassword"></a>
### func [WithPassword](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L127-L129>)

```go
func WithPassword(password []byte) SessionClientOption
```

WithPassword sets the password for the connection settings.

<a name="WithPasswordFile"></a>
### func [WithPasswordFile](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L136-L138>)

```go
func WithPasswordFile(passwordFile string) SessionClientOption
```

WithPasswordFile sets the passwordFile for the connection settings.

<a name="WithReceiveMaximum"></a>
### func [WithReceiveMaximum](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L186-L188>)

```go
func WithReceiveMaximum(receiveMaximum uint16) SessionClientOption
```

WithReceiveMaximum sets the receive maximum for the connection settings.

<a name="WithSatAuthFile"></a>
### func [WithSatAuthFile](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L445-L447>)

```go
func WithSatAuthFile(satAuthFile string) SessionClientOption
```

WithSatAuthFile sets the SatAuthFile for the auth options.

<a name="WithSessionExpiry"></a>
### func [WithSessionExpiry](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L167-L169>)

```go
func WithSessionExpiry(sessionExpiry time.Duration) SessionClientOption
```

WithSessionExpiry sets the sessionExpiry for the connection settings.

<a name="WithShutdownHandler"></a>
### func [WithShutdownHandler](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L82-L84>)

```go
func WithShutdownHandler(shutdownHandler func(error)) SessionClientOption
```

WithShutdownHandler sets shutdownHandler for the MQTT session client. The user\-defined function will be called whenever the session client permanently disconnects without automatic reconnection.

<a name="WithTLSConfig"></a>
### func [WithTLSConfig](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L360-L362>)

```go
func WithTLSConfig(tlsConfig *tls.Config) SessionClientOption
```

WithTLSConfig sets the TLS configuration for the connection settings.

<a name="WithUseTLS"></a>
### func [WithUseTLS](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L351-L353>)

```go
func WithUseTLS(useTLS bool) SessionClientOption
```

WithUseTLS enables or disables the use of TLS for the connection settings.

<a name="WithUsername"></a>
### func [WithUsername](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L118-L120>)

```go
func WithUsername(username string) SessionClientOption
```

WithUsername sets the username for the connection settings.

<a name="WithWillMessagePayload"></a>
### func [WithWillMessagePayload](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L263-L265>)

```go
func WithWillMessagePayload(payload []byte) SessionClientOption
```

WithWillMessagePayload sets the Payload for the WillMessage.

<a name="WithWillMessageQoS"></a>
### func [WithWillMessageQoS](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L245-L247>)

```go
func WithWillMessageQoS(qos mqtt.QoS) SessionClientOption
```

WithWillMessageQoS sets the QoS for the WillMessage.

<a name="WithWillMessageRetain"></a>
### func [WithWillMessageRetain](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L236-L238>)

```go
func WithWillMessageRetain(retain bool) SessionClientOption
```

WithWillMessageRetain sets the Retain for the WillMessage.

<a name="WithWillMessageTopic"></a>
### func [WithWillMessageTopic](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L254-L256>)

```go
func WithWillMessageTopic(topic string) SessionClientOption
```

WithWillMessageTopic sets the Topic for the WillMessage.

<a name="WithWillPropertiesContentType"></a>
### func [WithWillPropertiesContentType](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L311-L313>)

```go
func WithWillPropertiesContentType(contentType string) SessionClientOption
```

WithWillPropertiesContentType sets the ContentType for the WillProperties.

<a name="WithWillPropertiesCorrelationData"></a>
### func [WithWillPropertiesCorrelationData](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L331-L333>)

```go
func WithWillPropertiesCorrelationData(correlationData []byte) SessionClientOption
```

WithWillPropertiesCorrelationData sets the CorrelationData for the WillProperties.

<a name="WithWillPropertiesMessageExpiry"></a>
### func [WithWillPropertiesMessageExpiry](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L302-L304>)

```go
func WithWillPropertiesMessageExpiry(messageExpiry time.Duration) SessionClientOption
```

WithWillPropertiesMessageExpiry sets the MessageExpiry for the WillProperties.

<a name="WithWillPropertiesPayloadFormat"></a>
### func [WithWillPropertiesPayloadFormat](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L282-L284>)

```go
func WithWillPropertiesPayloadFormat(payloadFormat mqtt.PayloadFormat) SessionClientOption
```

WithWillPropertiesPayloadFormat sets the PayloadFormat for the WillProperties.

<a name="WithWillPropertiesResponseTopic"></a>
### func [WithWillPropertiesResponseTopic](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L321-L323>)

```go
func WithWillPropertiesResponseTopic(responseTopic string) SessionClientOption
```

WithWillPropertiesResponseTopic sets the ResponseTopic for the WillProperties.

<a name="WithWillPropertiesUser"></a>
### func [WithWillPropertiesUser](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L340-L342>)

```go
func WithWillPropertiesUser(user map[string]string) SessionClientOption
```

WithWillPropertiesUser sets the User properties for the WillProperties.

<a name="WithWillPropertiesWillDelayInterval"></a>
### func [WithWillPropertiesWillDelayInterval](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/session_client_options.go#L292-L294>)

```go
func WithWillPropertiesWillDelayInterval(willDelayInterval time.Duration) SessionClientOption
```

WithWillPropertiesWillDelayInterval sets the WillDelayInterval for the WillProperties.

<a name="WillMessage"></a>
## type [WillMessage](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/client.go#L46-L51>)

WillMessage is a representation of the LWT message that can be sent with the Connect packet.

```go
type WillMessage struct {
    Retain  bool
    QoS     mqtt.QoS
    Topic   string
    Payload []byte
}
```

<a name="WillProperties"></a>
## type [WillProperties](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/client.go#L55-L63>)

WillProperties is a struct of the properties that can be set for a Will in a Connect packet.

```go
type WillProperties struct {
    PayloadFormat     mqtt.PayloadFormat
    WillDelayInterval time.Duration
    MessageExpiry     time.Duration
    ContentType       string
    ResponseTopic     string
    CorrelationData   []byte
    User              map[string]string
}
```

<a name="WithReauthData"></a>
## type [WithReauthData](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/auth.go#L12>)

WithReauthData sets the auth data for reauthentication.

```go
type WithReauthData []byte
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
