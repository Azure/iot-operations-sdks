<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# retrypolicy

```go
import "github.com/Azure/iot-operations-sdks/go/mqtt/retrypolicy"
```

## Index

- [type ExponentialBackoffRetryPolicy](<#ExponentialBackoffRetryPolicy>)
  - [func NewExponentialBackoffRetryPolicy\(opts ...ExponentialBackoffRetryPolicyOption\) \*ExponentialBackoffRetryPolicy](<#NewExponentialBackoffRetryPolicy>)
  - [func \(e \*ExponentialBackoffRetryPolicy\) Start\(ctx context.Context, log func\(msg string, args ...any\), task Task\) error](<#ExponentialBackoffRetryPolicy.Start>)
- [type ExponentialBackoffRetryPolicyOption](<#ExponentialBackoffRetryPolicyOption>)
  - [func WithJitter\(withJitter bool\) ExponentialBackoffRetryPolicyOption](<#WithJitter>)
  - [func WithMaxInterval\(maxInterval time.Duration\) ExponentialBackoffRetryPolicyOption](<#WithMaxInterval>)
  - [func WithMaxRetries\(maxRetries int\) ExponentialBackoffRetryPolicyOption](<#WithMaxRetries>)
  - [func WithTimeout\(timeout time.Duration\) ExponentialBackoffRetryPolicyOption](<#WithTimeout>)
- [type RetryPolicy](<#RetryPolicy>)
- [type Task](<#Task>)


<a name="ExponentialBackoffRetryPolicy"></a>
## type [ExponentialBackoffRetryPolicy](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/retrypolicy/exponential_backoff_retrypolicy.go#L27-L34>)

ExponentialBackoffRetry implements a retry policy with exponential backoff and optional jitter.

```go
type ExponentialBackoffRetryPolicy struct {
    // contains filtered or unexported fields
}
```

<a name="NewExponentialBackoffRetryPolicy"></a>
### func [NewExponentialBackoffRetryPolicy](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/retrypolicy/exponential_backoff_retrypolicy.go#L38-L40>)

```go
func NewExponentialBackoffRetryPolicy(opts ...ExponentialBackoffRetryPolicyOption) *ExponentialBackoffRetryPolicy
```

NewExponentialBackoffRetryPolicy creates a new ExponentialBackoffRetryPolicy with the given options.

<a name="ExponentialBackoffRetryPolicy.Start"></a>
### func \(\*ExponentialBackoffRetryPolicy\) [Start](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/retrypolicy/exponential_backoff_retrypolicy.go#L56-L60>)

```go
func (e *ExponentialBackoffRetryPolicy) Start(ctx context.Context, log func(msg string, args ...any), task Task) error
```

Start initiates the retry executions.

<a name="ExponentialBackoffRetryPolicyOption"></a>
## type [ExponentialBackoffRetryPolicyOption](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/retrypolicy/exponential_backoff_retrypolicy_options.go#L6>)

Option defines the functional option type.

```go
type ExponentialBackoffRetryPolicyOption func(*ExponentialBackoffRetryPolicy)
```

<a name="WithJitter"></a>
### func [WithJitter](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/retrypolicy/exponential_backoff_retrypolicy_options.go#L36-L38>)

```go
func WithJitter(withJitter bool) ExponentialBackoffRetryPolicyOption
```

WithJitter sets whether to use jitter.

<a name="WithMaxInterval"></a>
### func [WithMaxInterval](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/retrypolicy/exponential_backoff_retrypolicy_options.go#L18-L20>)

```go
func WithMaxInterval(maxInterval time.Duration) ExponentialBackoffRetryPolicyOption
```

WithMaxInterval sets the maximum interval between retries.

<a name="WithMaxRetries"></a>
### func [WithMaxRetries](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/retrypolicy/exponential_backoff_retrypolicy_options.go#L9-L11>)

```go
func WithMaxRetries(maxRetries int) ExponentialBackoffRetryPolicyOption
```

WithMaxRetries sets the maximum number of retries.

<a name="WithTimeout"></a>
### func [WithTimeout](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/retrypolicy/exponential_backoff_retrypolicy_options.go#L27-L29>)

```go
func WithTimeout(timeout time.Duration) ExponentialBackoffRetryPolicyOption
```

WithTimeout sets the timeout for the total retry.

<a name="RetryPolicy"></a>
## type [RetryPolicy](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/retrypolicy/retrypolicy.go#L16-L22>)

RetryPolicy is the retry strategy for Task execution.

```go
type RetryPolicy interface {
    Start(
        ctx context.Context,
        log func(msg string, args ...any),
        task Task,
    ) error
}
```

<a name="Task"></a>
## type [Task](<https://github.com/microsoft/mqtt-patterns/blob/main/lib/go/mqtt/retrypolicy/retrypolicy.go#L9-L13>)

Task represents a function to retry.

```go
type Task struct {
    Name string                      // Task name
    Exec func(context.Context) error // Target function
    Cond func(error) bool            // Retry condition based on the error
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
