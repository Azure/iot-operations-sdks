{
  "@context": [
    "https://www.w3.org/2022/wot/td/v1.1",
    { "dtv": "http://azure.com/DigitalTwins/dtmi#" }
  ],
  "@type": "tm:ThingModel",
  "title": "AdrBaseService",
  "links": [
    {
      "rel": "dtv:naming",
      "href": "SchemaNames.json",
      "type": "application/json"
    }
  ],
  "schemaDefinitions": {
    "AkriServiceError": {
      "title": "AkriServiceError",
      "type": "object",
      "required": [ "code", "message", "timestamp" ],
      "dtv:errorMessage": "message",
      "properties": {
        "code": {
          "description": "The error code that identifies the error.",
          "title": "CodeSchema",
          "type": "string",
          "enum": [
            "BadRequest",
            "InternalError",
            "KubeError",
            "SerializationError",
            "Unauthorized"
          ]
        },
        "message": {
          "description": "A human-readable description of the error.",
          "type": "string"
        },
        "timestamp": {
          "description": "The timestamp (in UTC) when the error occurred.",
          "type": "string",
          "format": "date-time"
        }
      }
    }
  },
  "actions": {
    "getDevice": {
      "description": "Retrieve a device by device name and inbound endpoint name.",
      "output": {
        "description": "Response containing the device resource or error details if the device could not be retrieved.",
        "type": "object",
        "required": [ "device" ],
        "properties": {
          "device": {
            "description": "The device resource, containing the specific inbound endpoint details as specified by the request.",
            "title": "Device",
            "type": "object",
            "properties": {
              "attributes": {
                "description": "A set of key-value pairs that contain custom attributes set by the customer.",
                "type": "object",
                "dtv:additionalProperties": {
                  "type": "string"
                }
              },
              "discoveredDeviceRef": {
                "description": "Reference to a device. Populated only if the device had been created from discovery flow. Discovered device name must be provided.",
                "type": "string"
              },
              "enabled": {
                "description": "Indicates if the resource and identity are enabled or not. A disabled device cannot authenticate with Microsoft Entra ID.",
                "type": "boolean"
              },
              "endpoints": {
                "description": "Connection endpoint url a device can use to connect to a service.",
                "title": "DeviceEndpointsSchema",
                "type": "object",
                "properties": {
                  "inbound": {
                    "type": "object",
                    "dtv:additionalProperties": {
                      "title": "InboundSchemaMapValueSchema",
                      "type": "object",
                      "required": [ "address", "endpointType" ],
                      "properties": {
                        "additionalConfiguration": {
                          "description": "Stringified JSON that contains connectivity type specific further configuration (e.g. OPC UA, ONVIF).",
                          "type": "string"
                        },
                        "address": {
                          "description": "The endpoint address & port. This can be either an IP address (e.g., 192.168.1.1) or a fully qualified domain name (FQDN, e.g., server.example.com).",
                          "type": "string"
                        },
                        "authentication": {
                          "description": "Defines the client authentication mechanism to the server.",
                          "title": "AuthenticationSchema",
                          "type": "object",
                          "required": [ "method" ],
                          "properties": {
                            "method": {
                              "description": "Defines the method to authenticate the user of the client at the server.",
                              "title": "MethodSchema",
                              "type": "string",
                              "enum": [
                                "Anonymous",
                                "Certificate",
                                "UsernamePassword"
                              ]
                            },
                            "usernamePasswordCredentials": {
                              "description": "The credentials for authentication mode UsernamePassword.",
                              "title": "UsernamePasswordCredentialsSchema",
                              "type": "object",
                              "required": [ "usernameSecretName", "passwordSecretName" ],
                              "properties": {
                                "usernameSecretName": {
                                  "description": "The name of the secret containing the username.",
                                  "type": "string"
                                },
                                "passwordSecretName": {
                                  "description": "The name of the secret containing the password.",
                                  "type": "string"
                                }
                              }
                            },
                            "x509Credentials": {
                              "description": "The x509 certificate for authentication mode Certificate.",
                              "title": "X509CredentialsSchema",
                              "type": "object",
                              "required": [ "certificateSecretName" ],
                              "properties": {
                                "certificateSecretName": {
                                  "description": "The name of the secret containing the certificate and private key (e.g. stored as .der/.pem or .der/.pfx).",
                                  "type": "string"
                                },
                                "intermediateCertificatesSecretName": {
                                  "description": "A reference to the secret containing the combined intermediate certificates in PEM format.",
                                  "type": "string"
                                },
                                "keySecretName": {
                                  "description": "A reference to the secret containing the certificate private key in PEM or DER format.",
                                  "type": "string"
                                }
                              }
                            }
                          }
                        },
                        "endpointType": {
                          "description": "Type of connection endpoint.",
                          "type": "string"
                        },
                        "trustSettings": {
                          "description": "Defines server trust settings for the endpoint.",
                          "title": "TrustSettingsSchema",
                          "type": "object",
                          "properties": {
                            "trustList": {
                              "description": "Secret reference to certificates list to trust.",
                              "type": "string"
                            }
                          }
                        },
                        "version": {
                          "description": "Version associated with device endpoint.",
                          "type": "string"
                        }
                      }
                    }
                  },
                  "outbound": {
                    "description": "Set of endpoints for device to connect to.",
                    "title": "OutboundSchema",
                    "type": "object",
                    "required": [ "assigned" ],
                    "properties": {
                      "assigned": {
                        "description": "Device messaging endpoint model.",
                        "type": "object",
                        "dtv:additionalProperties": {
                          "title": "DeviceOutboundEndpoint",
                          "type": "object",
                          "required": [ "address" ],
                          "properties": {
                            "address": {
                              "description": "The endpoint address to connect to.",
                              "type": "string"
                            },
                            "endpointType": {
                              "description": "Type of connection used for the messaging endpoint.",
                              "type": "string"
                            }
                          }
                        }
                      },
                      "unassigned": {
                        "description": "Device messaging endpoint model.",
                        "type": "object",
                        "dtv:additionalProperties": {
                          "title": "DeviceOutboundEndpoint",
                          "type": "object",
                          "required": [ "address" ],
                          "properties": {
                            "address": {
                              "description": "The endpoint address to connect to.",
                              "type": "string"
                            },
                            "endpointType": {
                              "description": "Type of connection used for the messaging endpoint.",
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              },
              "externalDeviceId": {
                "description": "The Device ID provided by the customer.",
                "type": "string"
              },
              "lastTransitionTime": {
                "description": "A timestamp (in UTC) that is updated each time the resource is modified.",
                "type": "string",
                "format": "date-time"
              },
              "manufacturer": {
                "description": "Device manufacturer.",
                "type": "string"
              },
              "model": {
                "description": "Device model.",
                "type": "string"
              },
              "operatingSystem": {
                "description": "Device operating system.",
                "type": "string"
              },
              "operatingSystemVersion": {
                "description": "Device operating system version.",
                "type": "string"
              },
              "uuid": {
                "description": "Gets a unique identifier for this resource.",
                "type": "string"
              },
              "version": {
                "description": "An integer that is incremented each time the resource is modified.",
                "type": "integer",
                "minimum": 0,
                "maximum": 18446744073709551615
              }
            }
          }
        }
      },
      "forms": [
        {
          "contentType": "application/json",
          "additionalResponses": [
            {
              "success": false,
              "schema": "AkriServiceError"
            }
          ],
          "dtv:topic": "akri/connector/resources/{ex:connectorClientId}/{ex:deviceName}/{ex:inboundEndpointName}/getDevice",
          "op": "invokeaction"
        }
      ]
    },
    "getDeviceStatus": {
      "description": "Retrieve the status of a device by device name and inbound endpoint name.",
      "output": {
        "description": "Response containing the device status or error details if the status could not be retrieved.",
        "type": "object",
        "required": [ "deviceStatus" ],
        "properties": {
          "deviceStatus": {
            "description": "The device status, containing the specific inbound endpoint status as specified by the request.",
            "title": "DeviceStatus",
            "type": "object",
            "properties": {
              "config": {
                "description": "The configuration status of the device.",
                "title": "ConfigStatus",
                "type": "object",
                "properties": {
                  "error": {
                    "description": "The last error that occurred while processing the configuration.",
                    "title": "ConfigError",
                    "type": "object",
                    "properties": {
                      "code": {
                        "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                        "type": "string"
                      },
                      "details": {
                        "description": "Array of error details that describe the status of each error.",
                        "type": "array",
                        "items": {
                          "title": "DetailsSchemaElementSchema",
                          "type": "object",
                          "properties": {
                            "code": {
                              "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                              "type": "string"
                            },
                            "correlationId": {
                              "description": "Unique identifier for the transaction to aid in debugging.",
                              "type": "string"
                            },
                            "info": {
                              "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                              "type": "string"
                            },
                            "message": {
                              "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                              "type": "string"
                            }
                          }
                        }
                      },
                      "message": {
                        "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                        "type": "string"
                      }
                    }
                  },
                  "lastTransitionTime": {
                    "description": "A read only timestamp indicating the last time the configuration has been modified from the perspective of the current actual (Edge) state of the CRD. Edge would be the only writer of this value and would sync back up to the cloud.",
                    "type": "string",
                    "format": "date-time"
                  },
                  "version": {
                    "description": "A read only incremental counter indicating the number of times the configuration has been modified from the perspective of the current actual (Edge) state of the CRD. Edge would be the only writer of this value and would sync back up to the cloud. In steady state, this should equal version.",
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 18446744073709551615
                  }
                }
              },
              "endpoints": {
                "description": "Defines the device status for inbound/outbound endpoints.",
                "title": "DeviceStatusEndpointSchema",
                "type": "object",
                "properties": {
                  "inbound": {
                    "type": "object",
                    "dtv:additionalProperties": {
                      "title": "DeviceStatusInboundEndpointSchemaMapValueSchema",
                      "type": "object",
                      "properties": {
                        "error": {
                          "description": "The last error that occurred while processing the endpoint.",
                          "title": "ConfigError",
                          "type": "object",
                          "properties": {
                            "code": {
                              "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                              "type": "string"
                            },
                            "details": {
                              "description": "Array of error details that describe the status of each error.",
                              "type": "array",
                              "items": {
                                "title": "DetailsSchemaElementSchema",
                                "type": "object",
                                "properties": {
                                  "code": {
                                    "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                    "type": "string"
                                  },
                                  "correlationId": {
                                    "description": "Unique identifier for the transaction to aid in debugging.",
                                    "type": "string"
                                  },
                                  "info": {
                                    "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                    "type": "string"
                                  },
                                  "message": {
                                    "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                    "type": "string"
                                  }
                                }
                              }
                            },
                            "message": {
                              "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "forms": [
        {
          "contentType": "application/json",
          "additionalResponses": [
            {
              "success": false,
              "schema": "AkriServiceError"
            }
          ],
          "dtv:topic": "akri/connector/resources/{ex:connectorClientId}/{ex:deviceName}/{ex:inboundEndpointName}/getDeviceStatus",
          "op": "invokeaction"
        }
      ]
    },
    "getAsset": {
      "description": "Retrieve an asset by asset name.",
      "input": {
        "description": "The name of the asset to retrieve.",
        "type": "object",
        "required": [ "assetName" ],
        "properties": {
          "assetName": {
            "type": "string"
          }
        }
      },
      "output": {
        "description": "Response containing the asset resource or error details if the asset could not be retrieved.",
        "type": "object",
        "required": [ "asset" ],
        "properties": {
          "asset": {
            "description": "The asset resource",
            "title": "Asset",
            "type": "object",
            "required": [ "deviceRef" ],
            "properties": {
              "assetTypeRefs": {
                "description": "URIs or type definition IDs.",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "attributes": {
                "description": "A set of key-value pairs that contain custom attributes set by the customer.",
                "type": "object",
                "dtv:additionalProperties": {
                  "type": "string"
                }
              },
              "datasets": {
                "description": "Array of data sets that are part of the asset. Each data set describes the data points that make up the set.",
                "type": "array",
                "items": {
                  "title": "AssetDatasetSchemaElementSchema",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "dataPoints": {
                      "type": "array",
                      "items": {
                        "title": "AssetDatasetDataPointSchemaElementSchema",
                        "type": "object",
                        "required": [ "name" ],
                        "properties": {
                          "dataPointConfiguration": {
                            "description": "Stringified JSON that contains connector-specific configuration for the data point.",
                            "type": "string"
                          },
                          "dataSource": {
                            "description": "The address of the source of the data in the asset (e.g. URL) so that a client can access the data source on the asset.",
                            "type": "string"
                          },
                          "name": {
                            "description": "The name of the data point.",
                            "type": "string"
                          },
                          "typeRef": {
                            "description": "URI or type definition ID.",
                            "type": "string"
                          }
                        }
                      }
                    },
                    "dataSource": {
                      "description": "Reference to a data source for a given dataset.",
                      "type": "string"
                    },
                    "datasetConfiguration": {
                      "description": "Stringified JSON that contains connector-specific JSON string that describes configuration for the specific dataset.",
                      "type": "string"
                    },
                    "destinations": {
                      "description": "Destinations for a dataset.",
                      "type": "array",
                      "items": {
                        "title": "DatasetDestination",
                        "type": "object",
                        "required": [ "configuration", "target" ],
                        "properties": {
                          "configuration": {
                            "description": "The destination configuration.",
                            "title": "DestinationConfiguration",
                            "type": "object",
                            "properties": {
                              "key": {
                                "description": "The BrokerStateStore destination configuration key.",
                                "type": "string"
                              },
                              "path": {
                                "description": "The Storage destination configuration path.",
                                "type": "string"
                              },
                              "qos": {
                                "description": "The MQTT QoS setting.",
                                "title": "Qos",
                                "type": "string",
                                "enum": [
                                  "Qos0",
                                  "Qos1"
                                ]
                              },
                              "retain": {
                                "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                                "title": "Retain",
                                "type": "string",
                                "enum": [
                                  "Keep",
                                  "Never"
                                ]
                              },
                              "topic": {
                                "description": "The MQTT topic.",
                                "type": "string"
                              },
                              "ttl": {
                                "description": "The MQTT TTL setting.",
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 18446744073709551615
                              }
                            }
                          },
                          "target": {
                            "description": "The target destination.",
                            "title": "DatasetTarget",
                            "type": "string",
                            "enum": [
                              "BrokerStateStore",
                              "Mqtt",
                              "Storage"
                            ]
                          }
                        }
                      }
                    },
                    "name": {
                      "description": "Name of the dataset.",
                      "type": "string"
                    },
                    "typeRef": {
                      "description": "URI or type definition ID.",
                      "type": "string"
                    }
                  }
                }
              },
              "defaultDatasetsConfiguration": {
                "description": "Stringified JSON that contains connector-specific default configuration for all datasets. Each dataset can have its own configuration that overrides the default settings here.",
                "type": "string"
              },
              "defaultDatasetsDestinations": {
                "description": "Default destinations for a dataset.",
                "type": "array",
                "items": {
                  "title": "DatasetDestination",
                  "type": "object",
                  "required": [ "configuration", "target" ],
                  "properties": {
                    "configuration": {
                      "description": "The destination configuration.",
                      "title": "DestinationConfiguration",
                      "type": "object",
                      "properties": {
                        "key": {
                          "description": "The BrokerStateStore destination configuration key.",
                          "type": "string"
                        },
                        "path": {
                          "description": "The Storage destination configuration path.",
                          "type": "string"
                        },
                        "qos": {
                          "description": "The MQTT QoS setting.",
                          "title": "Qos",
                          "type": "string",
                          "enum": [
                            "Qos0",
                            "Qos1"
                          ]
                        },
                        "retain": {
                          "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                          "title": "Retain",
                          "type": "string",
                          "enum": [
                            "Keep",
                            "Never"
                          ]
                        },
                        "topic": {
                          "description": "The MQTT topic.",
                          "type": "string"
                        },
                        "ttl": {
                          "description": "The MQTT TTL setting.",
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 18446744073709551615
                        }
                      }
                    },
                    "target": {
                      "description": "The target destination.",
                      "title": "DatasetTarget",
                      "type": "string",
                      "enum": [
                        "BrokerStateStore",
                        "Mqtt",
                        "Storage"
                      ]
                    }
                  }
                }
              },
              "defaultEventsConfiguration": {
                "description": "Stringified JSON that contains connector-specific default configuration for all events. Each event can have its own configuration that overrides the default settings here.",
                "type": "string"
              },
              "defaultEventsDestinations": {
                "description": "Default destinations for an event.",
                "type": "array",
                "items": {
                  "title": "EventStreamDestination",
                  "type": "object",
                  "required": [ "configuration", "target" ],
                  "properties": {
                    "configuration": {
                      "description": "The destination configuration.",
                      "title": "DestinationConfiguration",
                      "type": "object",
                      "properties": {
                        "key": {
                          "description": "The BrokerStateStore destination configuration key.",
                          "type": "string"
                        },
                        "path": {
                          "description": "The Storage destination configuration path.",
                          "type": "string"
                        },
                        "qos": {
                          "description": "The MQTT QoS setting.",
                          "title": "Qos",
                          "type": "string",
                          "enum": [
                            "Qos0",
                            "Qos1"
                          ]
                        },
                        "retain": {
                          "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                          "title": "Retain",
                          "type": "string",
                          "enum": [
                            "Keep",
                            "Never"
                          ]
                        },
                        "topic": {
                          "description": "The MQTT topic.",
                          "type": "string"
                        },
                        "ttl": {
                          "description": "The MQTT TTL setting.",
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 18446744073709551615
                        }
                      }
                    },
                    "target": {
                      "description": "The target destination.",
                      "title": "EventStreamTarget",
                      "type": "string",
                      "enum": [
                        "Mqtt",
                        "Storage"
                      ]
                    }
                  }
                }
              },
              "defaultManagementGroupsConfiguration": {
                "description": "Stringified JSON that contains connector-specific default configuration for all management groups. Each management group can have its own configuration that overrides the default settings here.",
                "type": "string"
              },
              "defaultStreamsConfiguration": {
                "description": "Stringified JSON that contains connector-specific default configuration for all streams. Each stream can have its own configuration that overrides the default settings here.",
                "type": "string"
              },
              "defaultStreamsDestinations": {
                "description": "Default destinations for a stream.",
                "type": "array",
                "items": {
                  "title": "EventStreamDestination",
                  "type": "object",
                  "required": [ "configuration", "target" ],
                  "properties": {
                    "configuration": {
                      "description": "The destination configuration.",
                      "title": "DestinationConfiguration",
                      "type": "object",
                      "properties": {
                        "key": {
                          "description": "The BrokerStateStore destination configuration key.",
                          "type": "string"
                        },
                        "path": {
                          "description": "The Storage destination configuration path.",
                          "type": "string"
                        },
                        "qos": {
                          "description": "The MQTT QoS setting.",
                          "title": "Qos",
                          "type": "string",
                          "enum": [
                            "Qos0",
                            "Qos1"
                          ]
                        },
                        "retain": {
                          "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                          "title": "Retain",
                          "type": "string",
                          "enum": [
                            "Keep",
                            "Never"
                          ]
                        },
                        "topic": {
                          "description": "The MQTT topic.",
                          "type": "string"
                        },
                        "ttl": {
                          "description": "The MQTT TTL setting.",
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 18446744073709551615
                        }
                      }
                    },
                    "target": {
                      "description": "The target destination.",
                      "title": "EventStreamTarget",
                      "type": "string",
                      "enum": [
                        "Mqtt",
                        "Storage"
                      ]
                    }
                  }
                }
              },
              "description": {
                "description": "Human-readable description of the asset.",
                "type": "string"
              },
              "deviceRef": {
                "description": "Reference to the device that provides data for this asset. Must provide device name & endpoint on the device to use.",
                "title": "AssetDeviceRef",
                "type": "object",
                "required": [ "deviceName", "endpointName" ],
                "properties": {
                  "deviceName": {
                    "description": "Name of the device resource.",
                    "type": "string"
                  },
                  "endpointName": {
                    "description": "The name of endpoint to use.",
                    "type": "string"
                  }
                }
              },
              "discoveredAssetRefs": {
                "description": "Reference to a list of discovered assets. Populated only if the asset has been created from discovery flow. Discovered asset names must be provided.",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "displayName": {
                "description": "Human-readable display name.",
                "type": "string"
              },
              "documentationUri": {
                "description": "Asset documentation reference.",
                "type": "string"
              },
              "enabled": {
                "description": "Enabled/Disabled status of the asset.",
                "type": "boolean"
              },
              "eventGroups": {
                "description": "Array of events that are part of the asset. Each event can have per-event configuration.",
                "type": "array",
                "items": {
                  "title": "AssetEventGroupSchemaElementSchema",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "dataSource": {
                      "description": "The address of the notifier of the event in the asset (e.g. URL) so that a client can access the event on the asset.",
                      "type": "string"
                    },
                    "defaultEventsDestinations": {
                      "description": "Default destinations for an event.",
                      "type": "array",
                      "items": {
                        "title": "EventStreamDestination",
                        "type": "object",
                        "required": [ "configuration", "target" ],
                        "properties": {
                          "configuration": {
                            "description": "The destination configuration.",
                            "title": "DestinationConfiguration",
                            "type": "object",
                            "properties": {
                              "key": {
                                "description": "The BrokerStateStore destination configuration key.",
                                "type": "string"
                              },
                              "path": {
                                "description": "The Storage destination configuration path.",
                                "type": "string"
                              },
                              "qos": {
                                "description": "The MQTT QoS setting.",
                                "title": "Qos",
                                "type": "string",
                                "enum": [
                                  "Qos0",
                                  "Qos1"
                                ]
                              },
                              "retain": {
                                "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                                "title": "Retain",
                                "type": "string",
                                "enum": [
                                  "Keep",
                                  "Never"
                                ]
                              },
                              "topic": {
                                "description": "The MQTT topic.",
                                "type": "string"
                              },
                              "ttl": {
                                "description": "The MQTT TTL setting.",
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 18446744073709551615
                              }
                            }
                          },
                          "target": {
                            "description": "The target destination.",
                            "title": "EventStreamTarget",
                            "type": "string",
                            "enum": [
                              "Mqtt",
                              "Storage"
                            ]
                          }
                        }
                      }
                    },
                    "eventGroupConfiguration": {
                      "description": "Stringified JSON that contains connector-specific configuration for the event. For OPC UA, this could include configuration like, publishingInterval, samplingInterval, and queueSize.",
                      "type": "string"
                    },
                    "events": {
                      "description": "Array of events that are part of the asset. Each event can have per-event configuration.",
                      "type": "array",
                      "items": {
                        "title": "AssetEventSchemaElementSchema",
                        "type": "object",
                        "required": [ "name" ],
                        "properties": {
                          "dataSource": {
                            "description": "Reference to a data source for a given event.",
                            "type": "string"
                          },
                          "destinations": {
                            "description": "Destinations for an event.",
                            "type": "array",
                            "items": {
                              "title": "EventStreamDestination",
                              "type": "object",
                              "required": [ "configuration", "target" ],
                              "properties": {
                                "configuration": {
                                  "description": "The destination configuration.",
                                  "title": "DestinationConfiguration",
                                  "type": "object",
                                  "properties": {
                                    "key": {
                                      "description": "The BrokerStateStore destination configuration key.",
                                      "type": "string"
                                    },
                                    "path": {
                                      "description": "The Storage destination configuration path.",
                                      "type": "string"
                                    },
                                    "qos": {
                                      "description": "The MQTT QoS setting.",
                                      "title": "Qos",
                                      "type": "string",
                                      "enum": [
                                        "Qos0",
                                        "Qos1"
                                      ]
                                    },
                                    "retain": {
                                      "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                                      "title": "Retain",
                                      "type": "string",
                                      "enum": [
                                        "Keep",
                                        "Never"
                                      ]
                                    },
                                    "topic": {
                                      "description": "The MQTT topic.",
                                      "type": "string"
                                    },
                                    "ttl": {
                                      "description": "The MQTT TTL setting.",
                                      "type": "integer",
                                      "minimum": 0,
                                      "maximum": 18446744073709551615
                                    }
                                  }
                                },
                                "target": {
                                  "description": "The target destination.",
                                  "title": "EventStreamTarget",
                                  "type": "string",
                                  "enum": [
                                    "Mqtt",
                                    "Storage"
                                  ]
                                }
                              }
                            }
                          },
                          "eventConfiguration": {
                            "description": "Stringified JSON that contains connector-specific configuration for the specific event.",
                            "type": "string"
                          },
                          "name": {
                            "description": "The name of the event.",
                            "type": "string"
                          },
                          "typeRef": {
                            "description": "URI or type definition ID.",
                            "type": "string"
                          }
                        }
                      }
                    },
                    "name": {
                      "description": "Name of the event group.",
                      "type": "string"
                    },
                    "typeRef": {
                      "description": "URI or type definition ID.",
                      "type": "string"
                    }
                  }
                }
              },
              "externalAssetId": {
                "description": "Asset ID provided by the customer.",
                "type": "string"
              },
              "hardwareRevision": {
                "description": "Asset hardware revision number.",
                "type": "string"
              },
              "lastTransitionTime": {
                "description": "A timestamp (in UTC) that is updated each time the resource is modified.",
                "type": "string",
                "format": "date-time"
              },
              "managementGroups": {
                "description": "Array of management groups that are part of the asset.",
                "type": "array",
                "items": {
                  "title": "AssetManagementGroupSchemaElementSchema",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "actions": {
                      "description": "Array of actions that are part of the management group. Each action can have an individual configuration.",
                      "type": "array",
                      "items": {
                        "title": "AssetManagementGroupActionSchemaElementSchema",
                        "type": "object",
                        "required": [ "actionType", "name", "targetUri" ],
                        "properties": {
                          "actionConfiguration": {
                            "description": "Configuration for the action.",
                            "type": "string"
                          },
                          "actionType": {
                            "description": "Type of the action.",
                            "title": "AssetManagementGroupActionType",
                            "type": "string",
                            "enum": [
                              "Call",
                              "Read",
                              "Write"
                            ]
                          },
                          "name": {
                            "description": "Name of the action.",
                            "type": "string"
                          },
                          "targetUri": {
                            "description": "The target URI on which a client can invoke the specific action.",
                            "type": "string"
                          },
                          "timeoutInSeconds": {
                            "description": "Response timeout for the action.",
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 18446744073709551615
                          },
                          "topic": {
                            "description": "The MQTT topic path on which a client will receive the request for the action.",
                            "type": "string"
                          },
                          "typeRef": {
                            "description": "URI or type definition ID.",
                            "type": "string"
                          }
                        }
                      }
                    },
                    "dataSource": {
                      "description": "Reference to a data source for a given management group.",
                      "type": "string"
                    },
                    "defaultTimeoutInSeconds": {
                      "description": "Default response timeout for all actions that are part of the management group.",
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 18446744073709551615
                    },
                    "defaultTopic": {
                      "description": "Default MQTT topic path on which a client will receive the request for all actions that are part of the management group.",
                      "type": "string"
                    },
                    "managementGroupConfiguration": {
                      "description": "Stringified JSON that contains connector-specific configuration for the management group.",
                      "type": "string"
                    },
                    "name": {
                      "description": "Name of the management group.",
                      "type": "string"
                    },
                    "typeRef": {
                      "description": "URI or type definition ID.",
                      "type": "string"
                    }
                  }
                }
              },
              "manufacturer": {
                "description": "Asset manufacturer.",
                "type": "string"
              },
              "manufacturerUri": {
                "description": "Asset manufacturer URI.",
                "type": "string"
              },
              "model": {
                "description": "Asset model.",
                "type": "string"
              },
              "productCode": {
                "description": "Asset product code.",
                "type": "string"
              },
              "serialNumber": {
                "description": "Asset serial number.",
                "type": "string"
              },
              "softwareRevision": {
                "description": "Asset software revision number.",
                "type": "string"
              },
              "streams": {
                "description": "Array of streams that are part of the asset. Each stream can have per-stream configuration.",
                "type": "array",
                "items": {
                  "title": "AssetStreamSchemaElementSchema",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "destinations": {
                      "description": "Destinations for a Stream.",
                      "type": "array",
                      "items": {
                        "title": "EventStreamDestination",
                        "type": "object",
                        "required": [ "configuration", "target" ],
                        "properties": {
                          "configuration": {
                            "description": "The destination configuration.",
                            "title": "DestinationConfiguration",
                            "type": "object",
                            "properties": {
                              "key": {
                                "description": "The BrokerStateStore destination configuration key.",
                                "type": "string"
                              },
                              "path": {
                                "description": "The Storage destination configuration path.",
                                "type": "string"
                              },
                              "qos": {
                                "description": "The MQTT QoS setting.",
                                "title": "Qos",
                                "type": "string",
                                "enum": [
                                  "Qos0",
                                  "Qos1"
                                ]
                              },
                              "retain": {
                                "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                                "title": "Retain",
                                "type": "string",
                                "enum": [
                                  "Keep",
                                  "Never"
                                ]
                              },
                              "topic": {
                                "description": "The MQTT topic.",
                                "type": "string"
                              },
                              "ttl": {
                                "description": "The MQTT TTL setting.",
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 18446744073709551615
                              }
                            }
                          },
                          "target": {
                            "description": "The target destination.",
                            "title": "EventStreamTarget",
                            "type": "string",
                            "enum": [
                              "Mqtt",
                              "Storage"
                            ]
                          }
                        }
                      }
                    },
                    "name": {
                      "description": "Name of the stream definition.",
                      "type": "string"
                    },
                    "streamConfiguration": {
                      "description": "Stringified JSON that contains connector-specific JSON string that describes configuration for the specific stream.",
                      "type": "string"
                    },
                    "typeRef": {
                      "description": "URI or type definition ID.",
                      "type": "string"
                    }
                  }
                }
              },
              "uuid": {
                "description": "Globally unique, immutable, non-reusable id.",
                "type": "string"
              },
              "version": {
                "description": "A read-only integer that is incremented each time the resource is modified the cloud.",
                "type": "integer",
                "minimum": 0,
                "maximum": 18446744073709551615
              }
            }
          }
        }
      },
      "forms": [
        {
          "contentType": "application/json",
          "additionalResponses": [
            {
              "success": false,
              "schema": "AkriServiceError"
            }
          ],
          "dtv:topic": "akri/connector/resources/{ex:connectorClientId}/{ex:deviceName}/{ex:inboundEndpointName}/getAsset",
          "op": "invokeaction"
        }
      ]
    },
    "getAssetStatus": {
      "description": "Retrieve the status of an asset by asset name.",
      "input": {
        "description": "The name of the asset to retrieve the status for.",
        "type": "object",
        "required": [ "assetName" ],
        "properties": {
          "assetName": {
            "type": "string"
          }
        }
      },
      "output": {
        "description": "Response containing the asset status or error details if the status could not be retrieved.",
        "type": "object",
        "required": [ "assetStatus" ],
        "properties": {
          "assetStatus": {
            "description": "The asset status",
            "title": "AssetStatus",
            "type": "object",
            "properties": {
              "config": {
                "description": "The configuration status of the asset.",
                "title": "ConfigStatus",
                "type": "object",
                "properties": {
                  "error": {
                    "description": "The last error that occurred while processing the configuration.",
                    "title": "ConfigError",
                    "type": "object",
                    "properties": {
                      "code": {
                        "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                        "type": "string"
                      },
                      "details": {
                        "description": "Array of error details that describe the status of each error.",
                        "type": "array",
                        "items": {
                          "title": "DetailsSchemaElementSchema",
                          "type": "object",
                          "properties": {
                            "code": {
                              "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                              "type": "string"
                            },
                            "correlationId": {
                              "description": "Unique identifier for the transaction to aid in debugging.",
                              "type": "string"
                            },
                            "info": {
                              "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                              "type": "string"
                            },
                            "message": {
                              "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                              "type": "string"
                            }
                          }
                        }
                      },
                      "message": {
                        "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                        "type": "string"
                      }
                    }
                  },
                  "lastTransitionTime": {
                    "description": "A read only timestamp indicating the last time the configuration has been modified from the perspective of the current actual (Edge) state of the CRD. Edge would be the only writer of this value and would sync back up to the cloud.",
                    "type": "string",
                    "format": "date-time"
                  },
                  "version": {
                    "description": "A read only incremental counter indicating the number of times the configuration has been modified from the perspective of the current actual (Edge) state of the CRD. Edge would be the only writer of this value and would sync back up to the cloud. In steady state, this should equal version.",
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 18446744073709551615
                  }
                }
              },
              "datasets": {
                "description": "Array of dataset statuses that describe the status of each dataset.",
                "type": "array",
                "items": {
                  "title": "AssetDatasetEventStreamStatus",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "error": {
                      "description": "The last error that occurred while processing the dataset/event/stream.",
                      "title": "ConfigError",
                      "type": "object",
                      "properties": {
                        "code": {
                          "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                          "type": "string"
                        },
                        "details": {
                          "description": "Array of error details that describe the status of each error.",
                          "type": "array",
                          "items": {
                            "title": "DetailsSchemaElementSchema",
                            "type": "object",
                            "properties": {
                              "code": {
                                "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                "type": "string"
                              },
                              "correlationId": {
                                "description": "Unique identifier for the transaction to aid in debugging.",
                                "type": "string"
                              },
                              "info": {
                                "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                "type": "string"
                              },
                              "message": {
                                "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                "type": "string"
                              }
                            }
                          }
                        },
                        "message": {
                          "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                          "type": "string"
                        }
                      }
                    },
                    "messageSchemaReference": {
                      "description": "The message schema reference object.",
                      "title": "MessageSchemaReference",
                      "type": "object",
                      "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                      "properties": {
                        "schemaName": {
                          "description": "The reference to the message schema name.",
                          "type": "string"
                        },
                        "schemaRegistryNamespace": {
                          "description": "The reference to the message schema registry namespace.",
                          "type": "string"
                        },
                        "schemaVersion": {
                          "description": "The reference to the message schema version.",
                          "type": "string"
                        }
                      }
                    },
                    "name": {
                      "description": "The name of the dataset/event/stream. Must be unique within the status.datasets[i]/events[i]/streams[i] array. This name is used to correlate between the spec and status dataset/event/stream information.",
                      "type": "string"
                    }
                  }
                }
              },
              "eventGroups": {
                "description": "Array of event group statuses that describe the status of each event group.",
                "type": "array",
                "items": {
                  "title": "AssetEventGroupStatusSchemaElementSchema",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "events": {
                      "description": "Array of event statuses that describe the status of each event in the event group.",
                      "type": "array",
                      "items": {
                        "title": "AssetDatasetEventStreamStatus",
                        "type": "object",
                        "required": [ "name" ],
                        "properties": {
                          "error": {
                            "description": "The last error that occurred while processing the dataset/event/stream.",
                            "title": "ConfigError",
                            "type": "object",
                            "properties": {
                              "code": {
                                "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                                "type": "string"
                              },
                              "details": {
                                "description": "Array of error details that describe the status of each error.",
                                "type": "array",
                                "items": {
                                  "title": "DetailsSchemaElementSchema",
                                  "type": "object",
                                  "properties": {
                                    "code": {
                                      "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                      "type": "string"
                                    },
                                    "correlationId": {
                                      "description": "Unique identifier for the transaction to aid in debugging.",
                                      "type": "string"
                                    },
                                    "info": {
                                      "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                      "type": "string"
                                    },
                                    "message": {
                                      "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "message": {
                                "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                                "type": "string"
                              }
                            }
                          },
                          "messageSchemaReference": {
                            "description": "The message schema reference object.",
                            "title": "MessageSchemaReference",
                            "type": "object",
                            "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                            "properties": {
                              "schemaName": {
                                "description": "The reference to the message schema name.",
                                "type": "string"
                              },
                              "schemaRegistryNamespace": {
                                "description": "The reference to the message schema registry namespace.",
                                "type": "string"
                              },
                              "schemaVersion": {
                                "description": "The reference to the message schema version.",
                                "type": "string"
                              }
                            }
                          },
                          "name": {
                            "description": "The name of the dataset/event/stream. Must be unique within the status.datasets[i]/events[i]/streams[i] array. This name is used to correlate between the spec and status dataset/event/stream information.",
                            "type": "string"
                          }
                        }
                      }
                    },
                    "name": {
                      "description": "The name of the event group. Must be unique within the status.eventGroups array. This name is used to correlate between the spec and status event group information.",
                      "type": "string"
                    }
                  }
                }
              },
              "managementGroups": {
                "description": "Array of management group statuses that describe the status of each management group.",
                "type": "array",
                "items": {
                  "title": "AssetManagementGroupStatusSchemaElementSchema",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "actions": {
                      "description": "Array of action statuses that describe the status of each action.",
                      "type": "array",
                      "items": {
                        "title": "AssetManagementGroupActionStatusSchemaElementSchema",
                        "type": "object",
                        "required": [ "name" ],
                        "properties": {
                          "error": {
                            "description": "The last error that occurred while processing the action.",
                            "title": "ConfigError",
                            "type": "object",
                            "properties": {
                              "code": {
                                "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                                "type": "string"
                              },
                              "details": {
                                "description": "Array of error details that describe the status of each error.",
                                "type": "array",
                                "items": {
                                  "title": "DetailsSchemaElementSchema",
                                  "type": "object",
                                  "properties": {
                                    "code": {
                                      "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                      "type": "string"
                                    },
                                    "correlationId": {
                                      "description": "Unique identifier for the transaction to aid in debugging.",
                                      "type": "string"
                                    },
                                    "info": {
                                      "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                      "type": "string"
                                    },
                                    "message": {
                                      "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "message": {
                                "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                                "type": "string"
                              }
                            }
                          },
                          "name": {
                            "description": "The name of the action. Must be unique within the status.managementGroup[i].actions array. This name is used to correlate between the spec and status management group action information.",
                            "type": "string"
                          },
                          "requestMessageSchemaReference": {
                            "description": "The request message schema reference object.",
                            "title": "MessageSchemaReference",
                            "type": "object",
                            "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                            "properties": {
                              "schemaName": {
                                "description": "The reference to the message schema name.",
                                "type": "string"
                              },
                              "schemaRegistryNamespace": {
                                "description": "The reference to the message schema registry namespace.",
                                "type": "string"
                              },
                              "schemaVersion": {
                                "description": "The reference to the message schema version.",
                                "type": "string"
                              }
                            }
                          },
                          "responseMessageSchemaReference": {
                            "description": "The response message schema reference object.",
                            "title": "MessageSchemaReference",
                            "type": "object",
                            "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                            "properties": {
                              "schemaName": {
                                "description": "The reference to the message schema name.",
                                "type": "string"
                              },
                              "schemaRegistryNamespace": {
                                "description": "The reference to the message schema registry namespace.",
                                "type": "string"
                              },
                              "schemaVersion": {
                                "description": "The reference to the message schema version.",
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "name": {
                      "description": "The name of the managementgroup. Must be unique within the status.managementGroup array. This name is used to correlate between the spec and status management group information.",
                      "type": "string"
                    }
                  }
                }
              },
              "streams": {
                "description": "Array of stream statuses that describe the status of each stream.",
                "type": "array",
                "items": {
                  "title": "AssetDatasetEventStreamStatus",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "error": {
                      "description": "The last error that occurred while processing the dataset/event/stream.",
                      "title": "ConfigError",
                      "type": "object",
                      "properties": {
                        "code": {
                          "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                          "type": "string"
                        },
                        "details": {
                          "description": "Array of error details that describe the status of each error.",
                          "type": "array",
                          "items": {
                            "title": "DetailsSchemaElementSchema",
                            "type": "object",
                            "properties": {
                              "code": {
                                "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                "type": "string"
                              },
                              "correlationId": {
                                "description": "Unique identifier for the transaction to aid in debugging.",
                                "type": "string"
                              },
                              "info": {
                                "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                "type": "string"
                              },
                              "message": {
                                "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                "type": "string"
                              }
                            }
                          }
                        },
                        "message": {
                          "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                          "type": "string"
                        }
                      }
                    },
                    "messageSchemaReference": {
                      "description": "The message schema reference object.",
                      "title": "MessageSchemaReference",
                      "type": "object",
                      "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                      "properties": {
                        "schemaName": {
                          "description": "The reference to the message schema name.",
                          "type": "string"
                        },
                        "schemaRegistryNamespace": {
                          "description": "The reference to the message schema registry namespace.",
                          "type": "string"
                        },
                        "schemaVersion": {
                          "description": "The reference to the message schema version.",
                          "type": "string"
                        }
                      }
                    },
                    "name": {
                      "description": "The name of the dataset/event/stream. Must be unique within the status.datasets[i]/events[i]/streams[i] array. This name is used to correlate between the spec and status dataset/event/stream information.",
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "forms": [
        {
          "contentType": "application/json",
          "additionalResponses": [
            {
              "success": false,
              "schema": "AkriServiceError"
            }
          ],
          "dtv:topic": "akri/connector/resources/{ex:connectorClientId}/{ex:deviceName}/{ex:inboundEndpointName}/getAssetStatus",
          "op": "invokeaction"
        }
      ]
    },
    "updateDeviceStatus": {
      "description": "Update the status of a device by device name and inbound endpoint name.",
      "input": {
        "description": "The device status to update. Fields omitted in the request will be removed. The specified inbound endpoint status will be added or updated in the inbound endpoints map.",
        "type": "object",
        "required": [ "deviceStatusUpdate" ],
        "properties": {
          "deviceStatusUpdate": {
            "title": "DeviceStatus",
            "type": "object",
            "properties": {
              "config": {
                "description": "The configuration status of the device.",
                "title": "ConfigStatus",
                "type": "object",
                "properties": {
                  "error": {
                    "description": "The last error that occurred while processing the configuration.",
                    "title": "ConfigError",
                    "type": "object",
                    "properties": {
                      "code": {
                        "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                        "type": "string"
                      },
                      "details": {
                        "description": "Array of error details that describe the status of each error.",
                        "type": "array",
                        "items": {
                          "title": "DetailsSchemaElementSchema",
                          "type": "object",
                          "properties": {
                            "code": {
                              "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                              "type": "string"
                            },
                            "correlationId": {
                              "description": "Unique identifier for the transaction to aid in debugging.",
                              "type": "string"
                            },
                            "info": {
                              "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                              "type": "string"
                            },
                            "message": {
                              "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                              "type": "string"
                            }
                          }
                        }
                      },
                      "message": {
                        "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                        "type": "string"
                      }
                    }
                  },
                  "lastTransitionTime": {
                    "description": "A read only timestamp indicating the last time the configuration has been modified from the perspective of the current actual (Edge) state of the CRD. Edge would be the only writer of this value and would sync back up to the cloud.",
                    "type": "string",
                    "format": "date-time"
                  },
                  "version": {
                    "description": "A read only incremental counter indicating the number of times the configuration has been modified from the perspective of the current actual (Edge) state of the CRD. Edge would be the only writer of this value and would sync back up to the cloud. In steady state, this should equal version.",
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 18446744073709551615
                  }
                }
              },
              "endpoints": {
                "description": "Defines the device status for inbound/outbound endpoints.",
                "title": "DeviceStatusEndpointSchema",
                "type": "object",
                "properties": {
                  "inbound": {
                    "type": "object",
                    "dtv:additionalProperties": {
                      "title": "DeviceStatusInboundEndpointSchemaMapValueSchema",
                      "type": "object",
                      "properties": {
                        "error": {
                          "description": "The last error that occurred while processing the endpoint.",
                          "title": "ConfigError",
                          "type": "object",
                          "properties": {
                            "code": {
                              "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                              "type": "string"
                            },
                            "details": {
                              "description": "Array of error details that describe the status of each error.",
                              "type": "array",
                              "items": {
                                "title": "DetailsSchemaElementSchema",
                                "type": "object",
                                "properties": {
                                  "code": {
                                    "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                    "type": "string"
                                  },
                                  "correlationId": {
                                    "description": "Unique identifier for the transaction to aid in debugging.",
                                    "type": "string"
                                  },
                                  "info": {
                                    "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                    "type": "string"
                                  },
                                  "message": {
                                    "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                    "type": "string"
                                  }
                                }
                              }
                            },
                            "message": {
                              "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "output": {
        "description": "Response containing the updated device status or error details if the update failed.",
        "type": "object",
        "required": [ "updatedDeviceStatus" ],
        "properties": {
          "updatedDeviceStatus": {
            "description": "The updated device status containing the specific inbound endpoint status as specified by the request.",
            "title": "DeviceStatus",
            "type": "object",
            "properties": {
              "config": {
                "description": "The configuration status of the device.",
                "title": "ConfigStatus",
                "type": "object",
                "properties": {
                  "error": {
                    "description": "The last error that occurred while processing the configuration.",
                    "title": "ConfigError",
                    "type": "object",
                    "properties": {
                      "code": {
                        "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                        "type": "string"
                      },
                      "details": {
                        "description": "Array of error details that describe the status of each error.",
                        "type": "array",
                        "items": {
                          "title": "DetailsSchemaElementSchema",
                          "type": "object",
                          "properties": {
                            "code": {
                              "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                              "type": "string"
                            },
                            "correlationId": {
                              "description": "Unique identifier for the transaction to aid in debugging.",
                              "type": "string"
                            },
                            "info": {
                              "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                              "type": "string"
                            },
                            "message": {
                              "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                              "type": "string"
                            }
                          }
                        }
                      },
                      "message": {
                        "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                        "type": "string"
                      }
                    }
                  },
                  "lastTransitionTime": {
                    "description": "A read only timestamp indicating the last time the configuration has been modified from the perspective of the current actual (Edge) state of the CRD. Edge would be the only writer of this value and would sync back up to the cloud.",
                    "type": "string",
                    "format": "date-time"
                  },
                  "version": {
                    "description": "A read only incremental counter indicating the number of times the configuration has been modified from the perspective of the current actual (Edge) state of the CRD. Edge would be the only writer of this value and would sync back up to the cloud. In steady state, this should equal version.",
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 18446744073709551615
                  }
                }
              },
              "endpoints": {
                "description": "Defines the device status for inbound/outbound endpoints.",
                "title": "DeviceStatusEndpointSchema",
                "type": "object",
                "properties": {
                  "inbound": {
                    "type": "object",
                    "dtv:additionalProperties": {
                      "title": "DeviceStatusInboundEndpointSchemaMapValueSchema",
                      "type": "object",
                      "properties": {
                        "error": {
                          "description": "The last error that occurred while processing the endpoint.",
                          "title": "ConfigError",
                          "type": "object",
                          "properties": {
                            "code": {
                              "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                              "type": "string"
                            },
                            "details": {
                              "description": "Array of error details that describe the status of each error.",
                              "type": "array",
                              "items": {
                                "title": "DetailsSchemaElementSchema",
                                "type": "object",
                                "properties": {
                                  "code": {
                                    "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                    "type": "string"
                                  },
                                  "correlationId": {
                                    "description": "Unique identifier for the transaction to aid in debugging.",
                                    "type": "string"
                                  },
                                  "info": {
                                    "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                    "type": "string"
                                  },
                                  "message": {
                                    "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                    "type": "string"
                                  }
                                }
                              }
                            },
                            "message": {
                              "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "forms": [
        {
          "contentType": "application/json",
          "additionalResponses": [
            {
              "success": false,
              "schema": "AkriServiceError"
            }
          ],
          "dtv:topic": "akri/connector/resources/{ex:connectorClientId}/{ex:deviceName}/{ex:inboundEndpointName}/updateDeviceStatus",
          "op": "invokeaction"
        }
      ]
    },
    "updateAssetStatus": {
      "description": "Update the status of an asset by asset name.",
      "input": {
        "description": "The asset status update request.",
        "type": "object",
        "required": [ "assetStatusUpdate" ],
        "properties": {
          "assetStatusUpdate": {
            "title": "UpdateAssetStatusRequestSchema",
            "type": "object",
            "required": [ "assetName", "assetStatus" ],
            "properties": {
              "assetName": {
                "description": "The name of the asset to update the status for.",
                "type": "string"
              },
              "assetStatus": {
                "description": "The asset status to update. Fields omitted in the request will be removed.",
                "title": "AssetStatus",
                "type": "object",
                "properties": {
                  "config": {
                    "description": "The configuration status of the asset.",
                    "title": "ConfigStatus",
                    "type": "object",
                    "properties": {
                      "error": {
                        "description": "The last error that occurred while processing the configuration.",
                        "title": "ConfigError",
                        "type": "object",
                        "properties": {
                          "code": {
                            "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                            "type": "string"
                          },
                          "details": {
                            "description": "Array of error details that describe the status of each error.",
                            "type": "array",
                            "items": {
                              "title": "DetailsSchemaElementSchema",
                              "type": "object",
                              "properties": {
                                "code": {
                                  "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                  "type": "string"
                                },
                                "correlationId": {
                                  "description": "Unique identifier for the transaction to aid in debugging.",
                                  "type": "string"
                                },
                                "info": {
                                  "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                  "type": "string"
                                },
                                "message": {
                                  "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                  "type": "string"
                                }
                              }
                            }
                          },
                          "message": {
                            "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                            "type": "string"
                          }
                        }
                      },
                      "lastTransitionTime": {
                        "description": "A read only timestamp indicating the last time the configuration has been modified from the perspective of the current actual (Edge) state of the CRD. Edge would be the only writer of this value and would sync back up to the cloud.",
                        "type": "string",
                        "format": "date-time"
                      },
                      "version": {
                        "description": "A read only incremental counter indicating the number of times the configuration has been modified from the perspective of the current actual (Edge) state of the CRD. Edge would be the only writer of this value and would sync back up to the cloud. In steady state, this should equal version.",
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 18446744073709551615
                      }
                    }
                  },
                  "datasets": {
                    "description": "Array of dataset statuses that describe the status of each dataset.",
                    "type": "array",
                    "items": {
                      "title": "AssetDatasetEventStreamStatus",
                      "type": "object",
                      "required": [ "name" ],
                      "properties": {
                        "error": {
                          "description": "The last error that occurred while processing the dataset/event/stream.",
                          "title": "ConfigError",
                          "type": "object",
                          "properties": {
                            "code": {
                              "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                              "type": "string"
                            },
                            "details": {
                              "description": "Array of error details that describe the status of each error.",
                              "type": "array",
                              "items": {
                                "title": "DetailsSchemaElementSchema",
                                "type": "object",
                                "properties": {
                                  "code": {
                                    "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                    "type": "string"
                                  },
                                  "correlationId": {
                                    "description": "Unique identifier for the transaction to aid in debugging.",
                                    "type": "string"
                                  },
                                  "info": {
                                    "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                    "type": "string"
                                  },
                                  "message": {
                                    "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                    "type": "string"
                                  }
                                }
                              }
                            },
                            "message": {
                              "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                              "type": "string"
                            }
                          }
                        },
                        "messageSchemaReference": {
                          "description": "The message schema reference object.",
                          "title": "MessageSchemaReference",
                          "type": "object",
                          "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                          "properties": {
                            "schemaName": {
                              "description": "The reference to the message schema name.",
                              "type": "string"
                            },
                            "schemaRegistryNamespace": {
                              "description": "The reference to the message schema registry namespace.",
                              "type": "string"
                            },
                            "schemaVersion": {
                              "description": "The reference to the message schema version.",
                              "type": "string"
                            }
                          }
                        },
                        "name": {
                          "description": "The name of the dataset/event/stream. Must be unique within the status.datasets[i]/events[i]/streams[i] array. This name is used to correlate between the spec and status dataset/event/stream information.",
                          "type": "string"
                        }
                      }
                    }
                  },
                  "eventGroups": {
                    "description": "Array of event group statuses that describe the status of each event group.",
                    "type": "array",
                    "items": {
                      "title": "AssetEventGroupStatusSchemaElementSchema",
                      "type": "object",
                      "required": [ "name" ],
                      "properties": {
                        "events": {
                          "description": "Array of event statuses that describe the status of each event in the event group.",
                          "type": "array",
                          "items": {
                            "title": "AssetDatasetEventStreamStatus",
                            "type": "object",
                            "required": [ "name" ],
                            "properties": {
                              "error": {
                                "description": "The last error that occurred while processing the dataset/event/stream.",
                                "title": "ConfigError",
                                "type": "object",
                                "properties": {
                                  "code": {
                                    "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                                    "type": "string"
                                  },
                                  "details": {
                                    "description": "Array of error details that describe the status of each error.",
                                    "type": "array",
                                    "items": {
                                      "title": "DetailsSchemaElementSchema",
                                      "type": "object",
                                      "properties": {
                                        "code": {
                                          "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                          "type": "string"
                                        },
                                        "correlationId": {
                                          "description": "Unique identifier for the transaction to aid in debugging.",
                                          "type": "string"
                                        },
                                        "info": {
                                          "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                          "type": "string"
                                        },
                                        "message": {
                                          "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "message": {
                                    "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                                    "type": "string"
                                  }
                                }
                              },
                              "messageSchemaReference": {
                                "description": "The message schema reference object.",
                                "title": "MessageSchemaReference",
                                "type": "object",
                                "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                                "properties": {
                                  "schemaName": {
                                    "description": "The reference to the message schema name.",
                                    "type": "string"
                                  },
                                  "schemaRegistryNamespace": {
                                    "description": "The reference to the message schema registry namespace.",
                                    "type": "string"
                                  },
                                  "schemaVersion": {
                                    "description": "The reference to the message schema version.",
                                    "type": "string"
                                  }
                                }
                              },
                              "name": {
                                "description": "The name of the dataset/event/stream. Must be unique within the status.datasets[i]/events[i]/streams[i] array. This name is used to correlate between the spec and status dataset/event/stream information.",
                                "type": "string"
                              }
                            }
                          }
                        },
                        "name": {
                          "description": "The name of the event group. Must be unique within the status.eventGroups array. This name is used to correlate between the spec and status event group information.",
                          "type": "string"
                        }
                      }
                    }
                  },
                  "managementGroups": {
                    "description": "Array of management group statuses that describe the status of each management group.",
                    "type": "array",
                    "items": {
                      "title": "AssetManagementGroupStatusSchemaElementSchema",
                      "type": "object",
                      "required": [ "name" ],
                      "properties": {
                        "actions": {
                          "description": "Array of action statuses that describe the status of each action.",
                          "type": "array",
                          "items": {
                            "title": "AssetManagementGroupActionStatusSchemaElementSchema",
                            "type": "object",
                            "required": [ "name" ],
                            "properties": {
                              "error": {
                                "description": "The last error that occurred while processing the action.",
                                "title": "ConfigError",
                                "type": "object",
                                "properties": {
                                  "code": {
                                    "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                                    "type": "string"
                                  },
                                  "details": {
                                    "description": "Array of error details that describe the status of each error.",
                                    "type": "array",
                                    "items": {
                                      "title": "DetailsSchemaElementSchema",
                                      "type": "object",
                                      "properties": {
                                        "code": {
                                          "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                          "type": "string"
                                        },
                                        "correlationId": {
                                          "description": "Unique identifier for the transaction to aid in debugging.",
                                          "type": "string"
                                        },
                                        "info": {
                                          "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                          "type": "string"
                                        },
                                        "message": {
                                          "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                          "type": "string"
                                        }
                                      }
                                    }
                                  },
                                  "message": {
                                    "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                                    "type": "string"
                                  }
                                }
                              },
                              "name": {
                                "description": "The name of the action. Must be unique within the status.managementGroup[i].actions array. This name is used to correlate between the spec and status management group action information.",
                                "type": "string"
                              },
                              "requestMessageSchemaReference": {
                                "description": "The request message schema reference object.",
                                "title": "MessageSchemaReference",
                                "type": "object",
                                "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                                "properties": {
                                  "schemaName": {
                                    "description": "The reference to the message schema name.",
                                    "type": "string"
                                  },
                                  "schemaRegistryNamespace": {
                                    "description": "The reference to the message schema registry namespace.",
                                    "type": "string"
                                  },
                                  "schemaVersion": {
                                    "description": "The reference to the message schema version.",
                                    "type": "string"
                                  }
                                }
                              },
                              "responseMessageSchemaReference": {
                                "description": "The response message schema reference object.",
                                "title": "MessageSchemaReference",
                                "type": "object",
                                "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                                "properties": {
                                  "schemaName": {
                                    "description": "The reference to the message schema name.",
                                    "type": "string"
                                  },
                                  "schemaRegistryNamespace": {
                                    "description": "The reference to the message schema registry namespace.",
                                    "type": "string"
                                  },
                                  "schemaVersion": {
                                    "description": "The reference to the message schema version.",
                                    "type": "string"
                                  }
                                }
                              }
                            }
                          }
                        },
                        "name": {
                          "description": "The name of the managementgroup. Must be unique within the status.managementGroup array. This name is used to correlate between the spec and status management group information.",
                          "type": "string"
                        }
                      }
                    }
                  },
                  "streams": {
                    "description": "Array of stream statuses that describe the status of each stream.",
                    "type": "array",
                    "items": {
                      "title": "AssetDatasetEventStreamStatus",
                      "type": "object",
                      "required": [ "name" ],
                      "properties": {
                        "error": {
                          "description": "The last error that occurred while processing the dataset/event/stream.",
                          "title": "ConfigError",
                          "type": "object",
                          "properties": {
                            "code": {
                              "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                              "type": "string"
                            },
                            "details": {
                              "description": "Array of error details that describe the status of each error.",
                              "type": "array",
                              "items": {
                                "title": "DetailsSchemaElementSchema",
                                "type": "object",
                                "properties": {
                                  "code": {
                                    "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                    "type": "string"
                                  },
                                  "correlationId": {
                                    "description": "Unique identifier for the transaction to aid in debugging.",
                                    "type": "string"
                                  },
                                  "info": {
                                    "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                    "type": "string"
                                  },
                                  "message": {
                                    "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                    "type": "string"
                                  }
                                }
                              }
                            },
                            "message": {
                              "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                              "type": "string"
                            }
                          }
                        },
                        "messageSchemaReference": {
                          "description": "The message schema reference object.",
                          "title": "MessageSchemaReference",
                          "type": "object",
                          "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                          "properties": {
                            "schemaName": {
                              "description": "The reference to the message schema name.",
                              "type": "string"
                            },
                            "schemaRegistryNamespace": {
                              "description": "The reference to the message schema registry namespace.",
                              "type": "string"
                            },
                            "schemaVersion": {
                              "description": "The reference to the message schema version.",
                              "type": "string"
                            }
                          }
                        },
                        "name": {
                          "description": "The name of the dataset/event/stream. Must be unique within the status.datasets[i]/events[i]/streams[i] array. This name is used to correlate between the spec and status dataset/event/stream information.",
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "output": {
        "description": "Response containing the updated asset status or error details if the update failed.",
        "type": "object",
        "required": [ "updatedAssetStatus" ],
        "properties": {
          "updatedAssetStatus": {
            "description": "The updated asset status.",
            "title": "AssetStatus",
            "type": "object",
            "properties": {
              "config": {
                "description": "The configuration status of the asset.",
                "title": "ConfigStatus",
                "type": "object",
                "properties": {
                  "error": {
                    "description": "The last error that occurred while processing the configuration.",
                    "title": "ConfigError",
                    "type": "object",
                    "properties": {
                      "code": {
                        "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                        "type": "string"
                      },
                      "details": {
                        "description": "Array of error details that describe the status of each error.",
                        "type": "array",
                        "items": {
                          "title": "DetailsSchemaElementSchema",
                          "type": "object",
                          "properties": {
                            "code": {
                              "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                              "type": "string"
                            },
                            "correlationId": {
                              "description": "Unique identifier for the transaction to aid in debugging.",
                              "type": "string"
                            },
                            "info": {
                              "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                              "type": "string"
                            },
                            "message": {
                              "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                              "type": "string"
                            }
                          }
                        }
                      },
                      "message": {
                        "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                        "type": "string"
                      }
                    }
                  },
                  "lastTransitionTime": {
                    "description": "A read only timestamp indicating the last time the configuration has been modified from the perspective of the current actual (Edge) state of the CRD. Edge would be the only writer of this value and would sync back up to the cloud.",
                    "type": "string",
                    "format": "date-time"
                  },
                  "version": {
                    "description": "A read only incremental counter indicating the number of times the configuration has been modified from the perspective of the current actual (Edge) state of the CRD. Edge would be the only writer of this value and would sync back up to the cloud. In steady state, this should equal version.",
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 18446744073709551615
                  }
                }
              },
              "datasets": {
                "description": "Array of dataset statuses that describe the status of each dataset.",
                "type": "array",
                "items": {
                  "title": "AssetDatasetEventStreamStatus",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "error": {
                      "description": "The last error that occurred while processing the dataset/event/stream.",
                      "title": "ConfigError",
                      "type": "object",
                      "properties": {
                        "code": {
                          "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                          "type": "string"
                        },
                        "details": {
                          "description": "Array of error details that describe the status of each error.",
                          "type": "array",
                          "items": {
                            "title": "DetailsSchemaElementSchema",
                            "type": "object",
                            "properties": {
                              "code": {
                                "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                "type": "string"
                              },
                              "correlationId": {
                                "description": "Unique identifier for the transaction to aid in debugging.",
                                "type": "string"
                              },
                              "info": {
                                "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                "type": "string"
                              },
                              "message": {
                                "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                "type": "string"
                              }
                            }
                          }
                        },
                        "message": {
                          "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                          "type": "string"
                        }
                      }
                    },
                    "messageSchemaReference": {
                      "description": "The message schema reference object.",
                      "title": "MessageSchemaReference",
                      "type": "object",
                      "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                      "properties": {
                        "schemaName": {
                          "description": "The reference to the message schema name.",
                          "type": "string"
                        },
                        "schemaRegistryNamespace": {
                          "description": "The reference to the message schema registry namespace.",
                          "type": "string"
                        },
                        "schemaVersion": {
                          "description": "The reference to the message schema version.",
                          "type": "string"
                        }
                      }
                    },
                    "name": {
                      "description": "The name of the dataset/event/stream. Must be unique within the status.datasets[i]/events[i]/streams[i] array. This name is used to correlate between the spec and status dataset/event/stream information.",
                      "type": "string"
                    }
                  }
                }
              },
              "eventGroups": {
                "description": "Array of event group statuses that describe the status of each event group.",
                "type": "array",
                "items": {
                  "title": "AssetEventGroupStatusSchemaElementSchema",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "events": {
                      "description": "Array of event statuses that describe the status of each event in the event group.",
                      "type": "array",
                      "items": {
                        "title": "AssetDatasetEventStreamStatus",
                        "type": "object",
                        "required": [ "name" ],
                        "properties": {
                          "error": {
                            "description": "The last error that occurred while processing the dataset/event/stream.",
                            "title": "ConfigError",
                            "type": "object",
                            "properties": {
                              "code": {
                                "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                                "type": "string"
                              },
                              "details": {
                                "description": "Array of error details that describe the status of each error.",
                                "type": "array",
                                "items": {
                                  "title": "DetailsSchemaElementSchema",
                                  "type": "object",
                                  "properties": {
                                    "code": {
                                      "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                      "type": "string"
                                    },
                                    "correlationId": {
                                      "description": "Unique identifier for the transaction to aid in debugging.",
                                      "type": "string"
                                    },
                                    "info": {
                                      "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                      "type": "string"
                                    },
                                    "message": {
                                      "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "message": {
                                "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                                "type": "string"
                              }
                            }
                          },
                          "messageSchemaReference": {
                            "description": "The message schema reference object.",
                            "title": "MessageSchemaReference",
                            "type": "object",
                            "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                            "properties": {
                              "schemaName": {
                                "description": "The reference to the message schema name.",
                                "type": "string"
                              },
                              "schemaRegistryNamespace": {
                                "description": "The reference to the message schema registry namespace.",
                                "type": "string"
                              },
                              "schemaVersion": {
                                "description": "The reference to the message schema version.",
                                "type": "string"
                              }
                            }
                          },
                          "name": {
                            "description": "The name of the dataset/event/stream. Must be unique within the status.datasets[i]/events[i]/streams[i] array. This name is used to correlate between the spec and status dataset/event/stream information.",
                            "type": "string"
                          }
                        }
                      }
                    },
                    "name": {
                      "description": "The name of the event group. Must be unique within the status.eventGroups array. This name is used to correlate between the spec and status event group information.",
                      "type": "string"
                    }
                  }
                }
              },
              "managementGroups": {
                "description": "Array of management group statuses that describe the status of each management group.",
                "type": "array",
                "items": {
                  "title": "AssetManagementGroupStatusSchemaElementSchema",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "actions": {
                      "description": "Array of action statuses that describe the status of each action.",
                      "type": "array",
                      "items": {
                        "title": "AssetManagementGroupActionStatusSchemaElementSchema",
                        "type": "object",
                        "required": [ "name" ],
                        "properties": {
                          "error": {
                            "description": "The last error that occurred while processing the action.",
                            "title": "ConfigError",
                            "type": "object",
                            "properties": {
                              "code": {
                                "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                                "type": "string"
                              },
                              "details": {
                                "description": "Array of error details that describe the status of each error.",
                                "type": "array",
                                "items": {
                                  "title": "DetailsSchemaElementSchema",
                                  "type": "object",
                                  "properties": {
                                    "code": {
                                      "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                      "type": "string"
                                    },
                                    "correlationId": {
                                      "description": "Unique identifier for the transaction to aid in debugging.",
                                      "type": "string"
                                    },
                                    "info": {
                                      "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                      "type": "string"
                                    },
                                    "message": {
                                      "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                      "type": "string"
                                    }
                                  }
                                }
                              },
                              "message": {
                                "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                                "type": "string"
                              }
                            }
                          },
                          "name": {
                            "description": "The name of the action. Must be unique within the status.managementGroup[i].actions array. This name is used to correlate between the spec and status management group action information.",
                            "type": "string"
                          },
                          "requestMessageSchemaReference": {
                            "description": "The request message schema reference object.",
                            "title": "MessageSchemaReference",
                            "type": "object",
                            "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                            "properties": {
                              "schemaName": {
                                "description": "The reference to the message schema name.",
                                "type": "string"
                              },
                              "schemaRegistryNamespace": {
                                "description": "The reference to the message schema registry namespace.",
                                "type": "string"
                              },
                              "schemaVersion": {
                                "description": "The reference to the message schema version.",
                                "type": "string"
                              }
                            }
                          },
                          "responseMessageSchemaReference": {
                            "description": "The response message schema reference object.",
                            "title": "MessageSchemaReference",
                            "type": "object",
                            "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                            "properties": {
                              "schemaName": {
                                "description": "The reference to the message schema name.",
                                "type": "string"
                              },
                              "schemaRegistryNamespace": {
                                "description": "The reference to the message schema registry namespace.",
                                "type": "string"
                              },
                              "schemaVersion": {
                                "description": "The reference to the message schema version.",
                                "type": "string"
                              }
                            }
                          }
                        }
                      }
                    },
                    "name": {
                      "description": "The name of the managementgroup. Must be unique within the status.managementGroup array. This name is used to correlate between the spec and status management group information.",
                      "type": "string"
                    }
                  }
                }
              },
              "streams": {
                "description": "Array of stream statuses that describe the status of each stream.",
                "type": "array",
                "items": {
                  "title": "AssetDatasetEventStreamStatus",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "error": {
                      "description": "The last error that occurred while processing the dataset/event/stream.",
                      "title": "ConfigError",
                      "type": "object",
                      "properties": {
                        "code": {
                          "description": "Error code for classification of errors (ex: '400', '404', '500', etc.).",
                          "type": "string"
                        },
                        "details": {
                          "description": "Array of error details that describe the status of each error.",
                          "type": "array",
                          "items": {
                            "title": "DetailsSchemaElementSchema",
                            "type": "object",
                            "properties": {
                              "code": {
                                "description": "Multi-part error code for classification and root causing of errors (ex: 400.200.100.432).",
                                "type": "string"
                              },
                              "correlationId": {
                                "description": "Unique identifier for the transaction to aid in debugging.",
                                "type": "string"
                              },
                              "info": {
                                "description": "Human readable helpful detailed text context for debugging (ex: “The following mechanisms are supported...”).",
                                "type": "string"
                              },
                              "message": {
                                "description": "Human readable helpful error message to provide additional context for error (ex: “Authentication method not supported”).",
                                "type": "string"
                              }
                            }
                          }
                        },
                        "message": {
                          "description": "Human readable helpful error message to provide additional context for error (ex: “capability Id ''foo'' does not exist”).",
                          "type": "string"
                        }
                      }
                    },
                    "messageSchemaReference": {
                      "description": "The message schema reference object.",
                      "title": "MessageSchemaReference",
                      "type": "object",
                      "required": [ "schemaName", "schemaRegistryNamespace", "schemaVersion" ],
                      "properties": {
                        "schemaName": {
                          "description": "The reference to the message schema name.",
                          "type": "string"
                        },
                        "schemaRegistryNamespace": {
                          "description": "The reference to the message schema registry namespace.",
                          "type": "string"
                        },
                        "schemaVersion": {
                          "description": "The reference to the message schema version.",
                          "type": "string"
                        }
                      }
                    },
                    "name": {
                      "description": "The name of the dataset/event/stream. Must be unique within the status.datasets[i]/events[i]/streams[i] array. This name is used to correlate between the spec and status dataset/event/stream information.",
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "forms": [
        {
          "contentType": "application/json",
          "additionalResponses": [
            {
              "success": false,
              "schema": "AkriServiceError"
            }
          ],
          "dtv:topic": "akri/connector/resources/{ex:connectorClientId}/{ex:deviceName}/{ex:inboundEndpointName}/updateAssetStatus",
          "op": "invokeaction"
        }
      ]
    },
    "setNotificationPreferenceForDeviceUpdates": {
      "description": "Set the notification preference for device updates. This command allows the connector application to subscribe to per-device inbound endpoint updates.",
      "input": {
        "description": "The request to set the notification preference for device updates.",
        "type": "object",
        "required": [ "notificationPreferenceRequest" ],
        "properties": {
          "notificationPreferenceRequest": {
            "title": "NotificationPreference",
            "type": "string",
            "enum": [
              "Off",
              "On"
            ]
          }
        }
      },
      "output": {
        "description": "Response containing the result of setting the notification preference for device updates or error details if the operation failed.",
        "type": "object",
        "required": [ "responsePayload" ],
        "properties": {
          "responsePayload": {
            "description": "The response payload indicating that the operation was successful.",
            "type": "string"
          }
        }
      },
      "forms": [
        {
          "contentType": "application/json",
          "additionalResponses": [
            {
              "success": false,
              "schema": "AkriServiceError"
            }
          ],
          "dtv:topic": "akri/connector/resources/{ex:connectorClientId}/{ex:deviceName}/{ex:inboundEndpointName}/setNotificationPreferenceForDeviceUpdates",
          "op": "invokeaction"
        }
      ]
    },
    "setNotificationPreferenceForAssetUpdates": {
      "description": "Set the notification preference for asset updates. This command allows the connector application to subscribe to per-asset updates.",
      "input": {
        "description": "The request to set the notification preference for asset updates.",
        "type": "object",
        "required": [ "notificationPreferenceRequest" ],
        "properties": {
          "notificationPreferenceRequest": {
            "title": "SetNotificationPreferenceForAssetUpdatesRequestSchema",
            "type": "object",
            "required": [ "assetName", "notificationPreference" ],
            "properties": {
              "assetName": {
                "description": "The name of the asset to set the notification preference for.",
                "type": "string"
              },
              "notificationPreference": {
                "description": "The notification preference to set for the asset updates.",
                "title": "NotificationPreference",
                "type": "string",
                "enum": [
                  "Off",
                  "On"
                ]
              }
            }
          }
        }
      },
      "output": {
        "description": "Response containing the result of setting the notification preference for asset updates or error details if the operation failed.",
        "type": "object",
        "required": [ "responsePayload" ],
        "properties": {
          "responsePayload": {
            "description": "The response payload indicating that the operation was successful.",
            "type": "string"
          }
        }
      },
      "forms": [
        {
          "contentType": "application/json",
          "additionalResponses": [
            {
              "success": false,
              "schema": "AkriServiceError"
            }
          ],
          "dtv:topic": "akri/connector/resources/{ex:connectorClientId}/{ex:deviceName}/{ex:inboundEndpointName}/setNotificationPreferenceForAssetUpdates",
          "op": "invokeaction"
        }
      ]
    },
    "createOrUpdateDiscoveredAsset": {
      "description": "Create or update a discovered asset resource.",
      "input": {
        "description": "The request to create or update a discovered asset.",
        "type": "object",
        "required": [ "discoveredAssetRequest" ],
        "properties": {
          "discoveredAssetRequest": {
            "title": "CreateOrUpdateDiscoveredAssetRequestSchema",
            "type": "object",
            "required": [ "discoveredAssetName", "discoveredAsset" ],
            "properties": {
              "discoveredAssetName": {
                "description": "The name of the discovered asset to create or update. This field is used to perform deduplication of discovered assets.",
                "type": "string"
              },
              "discoveredAsset": {
                "description": "The discovered asset resource to create or update. Fields omitted in the request will be removed.",
                "title": "DiscoveredAsset",
                "type": "object",
                "required": [ "deviceRef" ],
                "properties": {
                  "assetTypeRefs": {
                    "description": "URIs or type definition IDs for the asset type.",
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "attributes": {
                    "description": "A set of key-value pairs that contain custom attributes.",
                    "type": "object",
                    "dtv:additionalProperties": {
                      "type": "string"
                    }
                  },
                  "datasets": {
                    "description": "Array of datasets that are part of the asset. Each data set spec describes the data points that make up the set.",
                    "type": "array",
                    "items": {
                      "title": "DiscoveredAssetDataset",
                      "type": "object",
                      "required": [ "name" ],
                      "properties": {
                        "dataPoints": {
                          "description": "Array of data points that are part of the dataset. Each data point can have per-data-point configuration.",
                          "type": "array",
                          "items": {
                            "title": "DiscoveredAssetDatasetDataPoint",
                            "type": "object",
                            "required": [ "name" ],
                            "properties": {
                              "dataPointConfiguration": {
                                "description": "Stringified JSON that contains connector-specific configuration for the data point.",
                                "type": "string"
                              },
                              "dataSource": {
                                "description": "The address of the source of the data in the discovered asset (e.g. URL) so that a client can access the data source on the asset.",
                                "type": "string"
                              },
                              "lastUpdatedOn": {
                                "description": "UTC timestamp indicating when the data point was added or modified.",
                                "type": "string",
                                "format": "date-time"
                              },
                              "name": {
                                "description": "The name of the data point.",
                                "type": "string"
                              },
                              "typeRef": {
                                "description": "URI or type definition ID.",
                                "type": "string"
                              }
                            }
                          }
                        },
                        "dataSource": {
                          "description": "Name of the data source within a dataset.",
                          "type": "string"
                        },
                        "datasetConfiguration": {
                          "description": "Stringified JSON that contains connector-specific properties that describes configuration for the specific dataset.",
                          "type": "string"
                        },
                        "destinations": {
                          "description": "Destinations for a dataset.",
                          "type": "array",
                          "items": {
                            "title": "DatasetDestination",
                            "type": "object",
                            "required": [ "configuration", "target" ],
                            "properties": {
                              "configuration": {
                                "description": "The destination configuration.",
                                "title": "DestinationConfiguration",
                                "type": "object",
                                "properties": {
                                  "key": {
                                    "description": "The BrokerStateStore destination configuration key.",
                                    "type": "string"
                                  },
                                  "path": {
                                    "description": "The Storage destination configuration path.",
                                    "type": "string"
                                  },
                                  "qos": {
                                    "description": "The MQTT QoS setting.",
                                    "title": "Qos",
                                    "type": "string",
                                    "enum": [
                                      "Qos0",
                                      "Qos1"
                                    ]
                                  },
                                  "retain": {
                                    "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                                    "title": "Retain",
                                    "type": "string",
                                    "enum": [
                                      "Keep",
                                      "Never"
                                    ]
                                  },
                                  "topic": {
                                    "description": "The MQTT topic.",
                                    "type": "string"
                                  },
                                  "ttl": {
                                    "description": "The MQTT TTL setting.",
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 18446744073709551615
                                  }
                                }
                              },
                              "target": {
                                "description": "The target destination.",
                                "title": "DatasetTarget",
                                "type": "string",
                                "enum": [
                                  "BrokerStateStore",
                                  "Mqtt",
                                  "Storage"
                                ]
                              }
                            }
                          }
                        },
                        "lastUpdatedOn": {
                          "description": "Timestamp (in UTC) indicating when the dataset was added or modified.",
                          "type": "string",
                          "format": "date-time"
                        },
                        "name": {
                          "description": "Name of the dataset.",
                          "type": "string"
                        },
                        "typeRef": {
                          "description": "URI or type definition ID.",
                          "type": "string"
                        }
                      }
                    }
                  },
                  "defaultDatasetsConfiguration": {
                    "description": "Stringified JSON that contains connector-specific default configuration for all datasets. Each dataset can have its own configuration that overrides the default settings here.",
                    "type": "string"
                  },
                  "defaultDatasetsDestinations": {
                    "description": "Default destinations for a dataset.",
                    "type": "array",
                    "items": {
                      "title": "DatasetDestination",
                      "type": "object",
                      "required": [ "configuration", "target" ],
                      "properties": {
                        "configuration": {
                          "description": "The destination configuration.",
                          "title": "DestinationConfiguration",
                          "type": "object",
                          "properties": {
                            "key": {
                              "description": "The BrokerStateStore destination configuration key.",
                              "type": "string"
                            },
                            "path": {
                              "description": "The Storage destination configuration path.",
                              "type": "string"
                            },
                            "qos": {
                              "description": "The MQTT QoS setting.",
                              "title": "Qos",
                              "type": "string",
                              "enum": [
                                "Qos0",
                                "Qos1"
                              ]
                            },
                            "retain": {
                              "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                              "title": "Retain",
                              "type": "string",
                              "enum": [
                                "Keep",
                                "Never"
                              ]
                            },
                            "topic": {
                              "description": "The MQTT topic.",
                              "type": "string"
                            },
                            "ttl": {
                              "description": "The MQTT TTL setting.",
                              "type": "integer",
                              "minimum": 0,
                              "maximum": 18446744073709551615
                            }
                          }
                        },
                        "target": {
                          "description": "The target destination.",
                          "title": "DatasetTarget",
                          "type": "string",
                          "enum": [
                            "BrokerStateStore",
                            "Mqtt",
                            "Storage"
                          ]
                        }
                      }
                    }
                  },
                  "defaultEventsConfiguration": {
                    "description": "Stringified JSON that contains connector-specific default configuration for all events. Each event can have its own configuration that overrides the default settings here.",
                    "type": "string"
                  },
                  "defaultEventsDestinations": {
                    "description": "Default destinations for an event.",
                    "type": "array",
                    "items": {
                      "title": "EventStreamDestination",
                      "type": "object",
                      "required": [ "configuration", "target" ],
                      "properties": {
                        "configuration": {
                          "description": "The destination configuration.",
                          "title": "DestinationConfiguration",
                          "type": "object",
                          "properties": {
                            "key": {
                              "description": "The BrokerStateStore destination configuration key.",
                              "type": "string"
                            },
                            "path": {
                              "description": "The Storage destination configuration path.",
                              "type": "string"
                            },
                            "qos": {
                              "description": "The MQTT QoS setting.",
                              "title": "Qos",
                              "type": "string",
                              "enum": [
                                "Qos0",
                                "Qos1"
                              ]
                            },
                            "retain": {
                              "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                              "title": "Retain",
                              "type": "string",
                              "enum": [
                                "Keep",
                                "Never"
                              ]
                            },
                            "topic": {
                              "description": "The MQTT topic.",
                              "type": "string"
                            },
                            "ttl": {
                              "description": "The MQTT TTL setting.",
                              "type": "integer",
                              "minimum": 0,
                              "maximum": 18446744073709551615
                            }
                          }
                        },
                        "target": {
                          "description": "The target destination.",
                          "title": "EventStreamTarget",
                          "type": "string",
                          "enum": [
                            "Mqtt",
                            "Storage"
                          ]
                        }
                      }
                    }
                  },
                  "defaultManagementGroupsConfiguration": {
                    "description": "Stringified JSON that contains connector-specific default configuration for all management groups. Each management group can have its own configuration that overrides the default settings here.",
                    "type": "string"
                  },
                  "defaultStreamsConfiguration": {
                    "description": "Stringified JSON that contains connector-specific default configuration for all streams. Each stream can have its own configuration that overrides the default settings here.",
                    "type": "string"
                  },
                  "defaultStreamsDestinations": {
                    "description": "Default destinations for a stream.",
                    "type": "array",
                    "items": {
                      "title": "EventStreamDestination",
                      "type": "object",
                      "required": [ "configuration", "target" ],
                      "properties": {
                        "configuration": {
                          "description": "The destination configuration.",
                          "title": "DestinationConfiguration",
                          "type": "object",
                          "properties": {
                            "key": {
                              "description": "The BrokerStateStore destination configuration key.",
                              "type": "string"
                            },
                            "path": {
                              "description": "The Storage destination configuration path.",
                              "type": "string"
                            },
                            "qos": {
                              "description": "The MQTT QoS setting.",
                              "title": "Qos",
                              "type": "string",
                              "enum": [
                                "Qos0",
                                "Qos1"
                              ]
                            },
                            "retain": {
                              "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                              "title": "Retain",
                              "type": "string",
                              "enum": [
                                "Keep",
                                "Never"
                              ]
                            },
                            "topic": {
                              "description": "The MQTT topic.",
                              "type": "string"
                            },
                            "ttl": {
                              "description": "The MQTT TTL setting.",
                              "type": "integer",
                              "minimum": 0,
                              "maximum": 18446744073709551615
                            }
                          }
                        },
                        "target": {
                          "description": "The target destination.",
                          "title": "EventStreamTarget",
                          "type": "string",
                          "enum": [
                            "Mqtt",
                            "Storage"
                          ]
                        }
                      }
                    }
                  },
                  "description": {
                    "description": "Human-readable description of the asset.",
                    "type": "string"
                  },
                  "deviceRef": {
                    "description": "Reference to the device that provides data for this asset. Must provide device name & endpoint on the device to use.",
                    "title": "AssetDeviceRef",
                    "type": "object",
                    "required": [ "deviceName", "endpointName" ],
                    "properties": {
                      "deviceName": {
                        "description": "Name of the device resource.",
                        "type": "string"
                      },
                      "endpointName": {
                        "description": "The name of endpoint to use.",
                        "type": "string"
                      }
                    }
                  },
                  "displayName": {
                    "description": "Human-readable display name.",
                    "type": "string"
                  },
                  "documentationUri": {
                    "description": "Asset documentation reference.",
                    "type": "string"
                  },
                  "eventGroups": {
                    "description": "Array of events that are part of the asset. Each event can have per-event configuration.",
                    "type": "array",
                    "items": {
                      "title": "DiscoveredAssetEventGroup",
                      "type": "object",
                      "required": [ "name" ],
                      "properties": {
                        "dataSource": {
                          "description": "The address of the notifier of the event in the asset (e.g. URL) so that a client can access the event on the asset.",
                          "type": "string"
                        },
                        "defaultEventsDestinations": {
                          "description": "Default destinations for an event.",
                          "type": "array",
                          "items": {
                            "title": "EventStreamDestination",
                            "type": "object",
                            "required": [ "configuration", "target" ],
                            "properties": {
                              "configuration": {
                                "description": "The destination configuration.",
                                "title": "DestinationConfiguration",
                                "type": "object",
                                "properties": {
                                  "key": {
                                    "description": "The BrokerStateStore destination configuration key.",
                                    "type": "string"
                                  },
                                  "path": {
                                    "description": "The Storage destination configuration path.",
                                    "type": "string"
                                  },
                                  "qos": {
                                    "description": "The MQTT QoS setting.",
                                    "title": "Qos",
                                    "type": "string",
                                    "enum": [
                                      "Qos0",
                                      "Qos1"
                                    ]
                                  },
                                  "retain": {
                                    "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                                    "title": "Retain",
                                    "type": "string",
                                    "enum": [
                                      "Keep",
                                      "Never"
                                    ]
                                  },
                                  "topic": {
                                    "description": "The MQTT topic.",
                                    "type": "string"
                                  },
                                  "ttl": {
                                    "description": "The MQTT TTL setting.",
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 18446744073709551615
                                  }
                                }
                              },
                              "target": {
                                "description": "The target destination.",
                                "title": "EventStreamTarget",
                                "type": "string",
                                "enum": [
                                  "Mqtt",
                                  "Storage"
                                ]
                              }
                            }
                          }
                        },
                        "eventGroupConfiguration": {
                          "description": "Stringified JSON that contains connector-specific configuration for the event. For OPC UA, this could include configuration like, publishingInterval, samplingInterval, and queueSize.",
                          "type": "string"
                        },
                        "events": {
                          "description": "Array of events that are part of the asset. Each event can have per-event configuration.",
                          "type": "array",
                          "items": {
                            "title": "DiscoveredAssetEvent",
                            "type": "object",
                            "required": [ "name" ],
                            "properties": {
                              "dataSource": {
                                "description": "Reference to a data source for a given event.",
                                "type": "string"
                              },
                              "destinations": {
                                "description": "Destinations for an event.",
                                "type": "array",
                                "items": {
                                  "title": "EventStreamDestination",
                                  "type": "object",
                                  "required": [ "configuration", "target" ],
                                  "properties": {
                                    "configuration": {
                                      "description": "The destination configuration.",
                                      "title": "DestinationConfiguration",
                                      "type": "object",
                                      "properties": {
                                        "key": {
                                          "description": "The BrokerStateStore destination configuration key.",
                                          "type": "string"
                                        },
                                        "path": {
                                          "description": "The Storage destination configuration path.",
                                          "type": "string"
                                        },
                                        "qos": {
                                          "description": "The MQTT QoS setting.",
                                          "title": "Qos",
                                          "type": "string",
                                          "enum": [
                                            "Qos0",
                                            "Qos1"
                                          ]
                                        },
                                        "retain": {
                                          "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                                          "title": "Retain",
                                          "type": "string",
                                          "enum": [
                                            "Keep",
                                            "Never"
                                          ]
                                        },
                                        "topic": {
                                          "description": "The MQTT topic.",
                                          "type": "string"
                                        },
                                        "ttl": {
                                          "description": "The MQTT TTL setting.",
                                          "type": "integer",
                                          "minimum": 0,
                                          "maximum": 18446744073709551615
                                        }
                                      }
                                    },
                                    "target": {
                                      "description": "The target destination.",
                                      "title": "EventStreamTarget",
                                      "type": "string",
                                      "enum": [
                                        "Mqtt",
                                        "Storage"
                                      ]
                                    }
                                  }
                                }
                              },
                              "eventConfiguration": {
                                "description": "Stringified JSON that contains connector-specific configuration for the specific event.",
                                "type": "string"
                              },
                              "lastUpdatedOn": {
                                "description": "UTC timestamp indicating when the event was added or modified.",
                                "type": "string",
                                "format": "date-time"
                              },
                              "name": {
                                "description": "The name of the event.",
                                "type": "string"
                              },
                              "typeRef": {
                                "description": "URI or type definition ID.",
                                "type": "string"
                              }
                            }
                          }
                        },
                        "name": {
                          "description": "Name of the event group.",
                          "type": "string"
                        },
                        "typeRef": {
                          "description": "URI or type definition ID.",
                          "type": "string"
                        }
                      }
                    }
                  },
                  "externalAssetId": {
                    "description": "Asset ID provided by the customer.",
                    "type": "string"
                  },
                  "hardwareRevision": {
                    "description": "Asset hardware revision number.",
                    "type": "string"
                  },
                  "managementGroups": {
                    "description": "Array of management groups that are part of the asset. Each management group can have a per-group configuration.",
                    "type": "array",
                    "items": {
                      "title": "DiscoveredAssetManagementGroup",
                      "type": "object",
                      "required": [ "name" ],
                      "properties": {
                        "actions": {
                          "description": "Array of actions that are part of the management group. Each action can have an individual configuration.",
                          "type": "array",
                          "items": {
                            "title": "DiscoveredAssetManagementGroupAction",
                            "type": "object",
                            "required": [ "actionType", "name", "targetUri" ],
                            "properties": {
                              "actionConfiguration": {
                                "description": "Configuration for the action.",
                                "type": "string"
                              },
                              "actionType": {
                                "description": "Type of the action.",
                                "title": "AssetManagementGroupActionType",
                                "type": "string",
                                "enum": [
                                  "Call",
                                  "Read",
                                  "Write"
                                ]
                              },
                              "lastUpdatedOn": {
                                "description": "Timestamp (in UTC) indicating when the management action was added or modified.",
                                "type": "string",
                                "format": "date-time"
                              },
                              "name": {
                                "description": "Name of the action.",
                                "type": "string"
                              },
                              "targetUri": {
                                "description": "The target URI on which a client can invoke the specific action.",
                                "type": "string"
                              },
                              "timeoutInSeconds": {
                                "description": "Response timeout for the action.",
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 18446744073709551615
                              },
                              "topic": {
                                "description": "The MQTT topic path on which a client will receive the request for the action.",
                                "type": "string"
                              },
                              "typeRef": {
                                "description": "URI or type definition ID.",
                                "type": "string"
                              }
                            }
                          }
                        },
                        "dataSource": {
                          "description": "Reference to a data source for a given management group.",
                          "type": "string"
                        },
                        "defaultTimeoutInSeconds": {
                          "description": "Default response timeout for all actions that are part of the management group.",
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 18446744073709551615
                        },
                        "defaultTopic": {
                          "description": "Default MQTT topic path on which a client will receive the request for all actions that are part of the management group.",
                          "type": "string"
                        },
                        "lastUpdatedOn": {
                          "description": "Timestamp (in UTC) indicating when the management group was added or modified.",
                          "type": "string",
                          "format": "date-time"
                        },
                        "managementGroupConfiguration": {
                          "description": "Stringified JSON that contains connector-specific configuration for the management group.",
                          "type": "string"
                        },
                        "name": {
                          "description": "Name of the management group.",
                          "type": "string"
                        },
                        "typeRef": {
                          "description": "URI or type definition ID.",
                          "type": "string"
                        }
                      }
                    }
                  },
                  "manufacturer": {
                    "description": "Asset manufacturer.",
                    "type": "string"
                  },
                  "manufacturerUri": {
                    "description": "Asset manufacturer URI.",
                    "type": "string"
                  },
                  "model": {
                    "description": "Asset model.",
                    "type": "string"
                  },
                  "productCode": {
                    "description": "Asset product code.",
                    "type": "string"
                  },
                  "serialNumber": {
                    "description": "Asset serial number.",
                    "type": "string"
                  },
                  "softwareRevision": {
                    "description": "Asset software revision number.",
                    "type": "string"
                  },
                  "streams": {
                    "description": "Array of streams that are part of the asset. Each stream can have per-stream configuration.",
                    "type": "array",
                    "items": {
                      "title": "DiscoveredAssetStream",
                      "type": "object",
                      "required": [ "name" ],
                      "properties": {
                        "destinations": {
                          "description": "Destinations for a stream.",
                          "type": "array",
                          "items": {
                            "title": "EventStreamDestination",
                            "type": "object",
                            "required": [ "configuration", "target" ],
                            "properties": {
                              "configuration": {
                                "description": "The destination configuration.",
                                "title": "DestinationConfiguration",
                                "type": "object",
                                "properties": {
                                  "key": {
                                    "description": "The BrokerStateStore destination configuration key.",
                                    "type": "string"
                                  },
                                  "path": {
                                    "description": "The Storage destination configuration path.",
                                    "type": "string"
                                  },
                                  "qos": {
                                    "description": "The MQTT QoS setting.",
                                    "title": "Qos",
                                    "type": "string",
                                    "enum": [
                                      "Qos0",
                                      "Qos1"
                                    ]
                                  },
                                  "retain": {
                                    "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                                    "title": "Retain",
                                    "type": "string",
                                    "enum": [
                                      "Keep",
                                      "Never"
                                    ]
                                  },
                                  "topic": {
                                    "description": "The MQTT topic.",
                                    "type": "string"
                                  },
                                  "ttl": {
                                    "description": "The MQTT TTL setting.",
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 18446744073709551615
                                  }
                                }
                              },
                              "target": {
                                "description": "The target destination.",
                                "title": "EventStreamTarget",
                                "type": "string",
                                "enum": [
                                  "Mqtt",
                                  "Storage"
                                ]
                              }
                            }
                          }
                        },
                        "lastUpdatedOn": {
                          "description": "Timestamp (in UTC) indicating when the stream was added or modified.",
                          "type": "string",
                          "format": "date-time"
                        },
                        "name": {
                          "description": "Name of the stream definition.",
                          "type": "string"
                        },
                        "streamConfiguration": {
                          "description": "Stringified JSON that contains connector-specific configuration that describes configuration for the specific stream.",
                          "type": "string"
                        },
                        "typeRef": {
                          "description": "URI or type definition ID.",
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "output": {
        "description": "Response containing the discovered asset response or error details if the operation failed.",
        "type": "object",
        "required": [ "discoveredAssetResponse" ],
        "properties": {
          "discoveredAssetResponse": {
            "description": "The discovered asset response.",
            "title": "DiscoveredAssetResponseSchema",
            "type": "object",
            "required": [ "discoveryId", "version" ],
            "properties": {
              "discoveryId": {
                "description": "The unique identifier for the discovered asset.",
                "type": "string"
              },
              "version": {
                "description": "The version of the discovered asset resource.",
                "type": "integer",
                "minimum": 0,
                "maximum": 18446744073709551615
              }
            }
          }
        }
      },
      "forms": [
        {
          "contentType": "application/json",
          "additionalResponses": [
            {
              "success": false,
              "schema": "AkriServiceError"
            }
          ],
          "dtv:topic": "akri/connector/resources/{ex:connectorClientId}/{ex:deviceName}/{ex:inboundEndpointName}/createOrUpdateDiscoveredAsset",
          "op": "invokeaction"
        }
      ]
    }
  },
  "properties": {
  },
  "events": {
    "deviceUpdateEvent": {
      "description": "Telemetry event emitted when a device is updated, containing the relevant inbound endpoint details as specified in the topic.",
      "data": {
        "title": "DeviceUpdateEventSchema",
        "type": "object",
        "required": [ "deviceName", "device" ],
        "properties": {
          "deviceName": {
            "description": "The name of the device that was updated.",
            "type": "string"
          },
          "device": {
            "description": "The updated device resource, containing the specific inbound endpoint details as specified in the topic.",
            "title": "Device",
            "type": "object",
            "properties": {
              "attributes": {
                "description": "A set of key-value pairs that contain custom attributes set by the customer.",
                "type": "object",
                "dtv:additionalProperties": {
                  "type": "string"
                }
              },
              "discoveredDeviceRef": {
                "description": "Reference to a device. Populated only if the device had been created from discovery flow. Discovered device name must be provided.",
                "type": "string"
              },
              "enabled": {
                "description": "Indicates if the resource and identity are enabled or not. A disabled device cannot authenticate with Microsoft Entra ID.",
                "type": "boolean"
              },
              "endpoints": {
                "description": "Connection endpoint url a device can use to connect to a service.",
                "title": "DeviceEndpointsSchema",
                "type": "object",
                "properties": {
                  "inbound": {
                    "type": "object",
                    "dtv:additionalProperties": {
                      "title": "InboundSchemaMapValueSchema",
                      "type": "object",
                      "required": [ "address", "endpointType" ],
                      "properties": {
                        "additionalConfiguration": {
                          "description": "Stringified JSON that contains connectivity type specific further configuration (e.g. OPC UA, ONVIF).",
                          "type": "string"
                        },
                        "address": {
                          "description": "The endpoint address & port. This can be either an IP address (e.g., 192.168.1.1) or a fully qualified domain name (FQDN, e.g., server.example.com).",
                          "type": "string"
                        },
                        "authentication": {
                          "description": "Defines the client authentication mechanism to the server.",
                          "title": "AuthenticationSchema",
                          "type": "object",
                          "required": [ "method" ],
                          "properties": {
                            "method": {
                              "description": "Defines the method to authenticate the user of the client at the server.",
                              "title": "MethodSchema",
                              "type": "string",
                              "enum": [
                                "Anonymous",
                                "Certificate",
                                "UsernamePassword"
                              ]
                            },
                            "usernamePasswordCredentials": {
                              "description": "The credentials for authentication mode UsernamePassword.",
                              "title": "UsernamePasswordCredentialsSchema",
                              "type": "object",
                              "required": [ "usernameSecretName", "passwordSecretName" ],
                              "properties": {
                                "usernameSecretName": {
                                  "description": "The name of the secret containing the username.",
                                  "type": "string"
                                },
                                "passwordSecretName": {
                                  "description": "The name of the secret containing the password.",
                                  "type": "string"
                                }
                              }
                            },
                            "x509Credentials": {
                              "description": "The x509 certificate for authentication mode Certificate.",
                              "title": "X509CredentialsSchema",
                              "type": "object",
                              "required": [ "certificateSecretName" ],
                              "properties": {
                                "certificateSecretName": {
                                  "description": "The name of the secret containing the certificate and private key (e.g. stored as .der/.pem or .der/.pfx).",
                                  "type": "string"
                                },
                                "intermediateCertificatesSecretName": {
                                  "description": "A reference to the secret containing the combined intermediate certificates in PEM format.",
                                  "type": "string"
                                },
                                "keySecretName": {
                                  "description": "A reference to the secret containing the certificate private key in PEM or DER format.",
                                  "type": "string"
                                }
                              }
                            }
                          }
                        },
                        "endpointType": {
                          "description": "Type of connection endpoint.",
                          "type": "string"
                        },
                        "trustSettings": {
                          "description": "Defines server trust settings for the endpoint.",
                          "title": "TrustSettingsSchema",
                          "type": "object",
                          "properties": {
                            "trustList": {
                              "description": "Secret reference to certificates list to trust.",
                              "type": "string"
                            }
                          }
                        },
                        "version": {
                          "description": "Version associated with device endpoint.",
                          "type": "string"
                        }
                      }
                    }
                  },
                  "outbound": {
                    "description": "Set of endpoints for device to connect to.",
                    "title": "OutboundSchema",
                    "type": "object",
                    "required": [ "assigned" ],
                    "properties": {
                      "assigned": {
                        "description": "Device messaging endpoint model.",
                        "type": "object",
                        "dtv:additionalProperties": {
                          "title": "DeviceOutboundEndpoint",
                          "type": "object",
                          "required": [ "address" ],
                          "properties": {
                            "address": {
                              "description": "The endpoint address to connect to.",
                              "type": "string"
                            },
                            "endpointType": {
                              "description": "Type of connection used for the messaging endpoint.",
                              "type": "string"
                            }
                          }
                        }
                      },
                      "unassigned": {
                        "description": "Device messaging endpoint model.",
                        "type": "object",
                        "dtv:additionalProperties": {
                          "title": "DeviceOutboundEndpoint",
                          "type": "object",
                          "required": [ "address" ],
                          "properties": {
                            "address": {
                              "description": "The endpoint address to connect to.",
                              "type": "string"
                            },
                            "endpointType": {
                              "description": "Type of connection used for the messaging endpoint.",
                              "type": "string"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              },
              "externalDeviceId": {
                "description": "The Device ID provided by the customer.",
                "type": "string"
              },
              "lastTransitionTime": {
                "description": "A timestamp (in UTC) that is updated each time the resource is modified.",
                "type": "string",
                "format": "date-time"
              },
              "manufacturer": {
                "description": "Device manufacturer.",
                "type": "string"
              },
              "model": {
                "description": "Device model.",
                "type": "string"
              },
              "operatingSystem": {
                "description": "Device operating system.",
                "type": "string"
              },
              "operatingSystemVersion": {
                "description": "Device operating system version.",
                "type": "string"
              },
              "uuid": {
                "description": "Gets a unique identifier for this resource.",
                "type": "string"
              },
              "version": {
                "description": "An integer that is incremented each time the resource is modified.",
                "type": "integer",
                "minimum": 0,
                "maximum": 18446744073709551615
              }
            }
          }
        }
      },
      "forms": [
        {
          "contentType": "application/json",
          "dtv:topic": "akri/connector/resources/telemetry/{ex:connectorClientId}/{ex:deviceName}/{ex:inboundEndpointName}/deviceUpdateEvent",
          "op": "subscribeevent"
        }
      ]
    },
    "assetUpdateEvent": {
      "description": "Telemetry event emitted when an asset is updated.",
      "data": {
        "title": "AssetUpdateEventSchema",
        "type": "object",
        "required": [ "assetName", "asset" ],
        "properties": {
          "assetName": {
            "description": "The name of the asset that was updated.",
            "type": "string"
          },
          "asset": {
            "description": "The updated asset resource.",
            "title": "Asset",
            "type": "object",
            "required": [ "deviceRef" ],
            "properties": {
              "assetTypeRefs": {
                "description": "URIs or type definition IDs.",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "attributes": {
                "description": "A set of key-value pairs that contain custom attributes set by the customer.",
                "type": "object",
                "dtv:additionalProperties": {
                  "type": "string"
                }
              },
              "datasets": {
                "description": "Array of data sets that are part of the asset. Each data set describes the data points that make up the set.",
                "type": "array",
                "items": {
                  "title": "AssetDatasetSchemaElementSchema",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "dataPoints": {
                      "type": "array",
                      "items": {
                        "title": "AssetDatasetDataPointSchemaElementSchema",
                        "type": "object",
                        "required": [ "name" ],
                        "properties": {
                          "dataPointConfiguration": {
                            "description": "Stringified JSON that contains connector-specific configuration for the data point.",
                            "type": "string"
                          },
                          "dataSource": {
                            "description": "The address of the source of the data in the asset (e.g. URL) so that a client can access the data source on the asset.",
                            "type": "string"
                          },
                          "name": {
                            "description": "The name of the data point.",
                            "type": "string"
                          },
                          "typeRef": {
                            "description": "URI or type definition ID.",
                            "type": "string"
                          }
                        }
                      }
                    },
                    "dataSource": {
                      "description": "Reference to a data source for a given dataset.",
                      "type": "string"
                    },
                    "datasetConfiguration": {
                      "description": "Stringified JSON that contains connector-specific JSON string that describes configuration for the specific dataset.",
                      "type": "string"
                    },
                    "destinations": {
                      "description": "Destinations for a dataset.",
                      "type": "array",
                      "items": {
                        "title": "DatasetDestination",
                        "type": "object",
                        "required": [ "configuration", "target" ],
                        "properties": {
                          "configuration": {
                            "description": "The destination configuration.",
                            "title": "DestinationConfiguration",
                            "type": "object",
                            "properties": {
                              "key": {
                                "description": "The BrokerStateStore destination configuration key.",
                                "type": "string"
                              },
                              "path": {
                                "description": "The Storage destination configuration path.",
                                "type": "string"
                              },
                              "qos": {
                                "description": "The MQTT QoS setting.",
                                "title": "Qos",
                                "type": "string",
                                "enum": [
                                  "Qos0",
                                  "Qos1"
                                ]
                              },
                              "retain": {
                                "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                                "title": "Retain",
                                "type": "string",
                                "enum": [
                                  "Keep",
                                  "Never"
                                ]
                              },
                              "topic": {
                                "description": "The MQTT topic.",
                                "type": "string"
                              },
                              "ttl": {
                                "description": "The MQTT TTL setting.",
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 18446744073709551615
                              }
                            }
                          },
                          "target": {
                            "description": "The target destination.",
                            "title": "DatasetTarget",
                            "type": "string",
                            "enum": [
                              "BrokerStateStore",
                              "Mqtt",
                              "Storage"
                            ]
                          }
                        }
                      }
                    },
                    "name": {
                      "description": "Name of the dataset.",
                      "type": "string"
                    },
                    "typeRef": {
                      "description": "URI or type definition ID.",
                      "type": "string"
                    }
                  }
                }
              },
              "defaultDatasetsConfiguration": {
                "description": "Stringified JSON that contains connector-specific default configuration for all datasets. Each dataset can have its own configuration that overrides the default settings here.",
                "type": "string"
              },
              "defaultDatasetsDestinations": {
                "description": "Default destinations for a dataset.",
                "type": "array",
                "items": {
                  "title": "DatasetDestination",
                  "type": "object",
                  "required": [ "configuration", "target" ],
                  "properties": {
                    "configuration": {
                      "description": "The destination configuration.",
                      "title": "DestinationConfiguration",
                      "type": "object",
                      "properties": {
                        "key": {
                          "description": "The BrokerStateStore destination configuration key.",
                          "type": "string"
                        },
                        "path": {
                          "description": "The Storage destination configuration path.",
                          "type": "string"
                        },
                        "qos": {
                          "description": "The MQTT QoS setting.",
                          "title": "Qos",
                          "type": "string",
                          "enum": [
                            "Qos0",
                            "Qos1"
                          ]
                        },
                        "retain": {
                          "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                          "title": "Retain",
                          "type": "string",
                          "enum": [
                            "Keep",
                            "Never"
                          ]
                        },
                        "topic": {
                          "description": "The MQTT topic.",
                          "type": "string"
                        },
                        "ttl": {
                          "description": "The MQTT TTL setting.",
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 18446744073709551615
                        }
                      }
                    },
                    "target": {
                      "description": "The target destination.",
                      "title": "DatasetTarget",
                      "type": "string",
                      "enum": [
                        "BrokerStateStore",
                        "Mqtt",
                        "Storage"
                      ]
                    }
                  }
                }
              },
              "defaultEventsConfiguration": {
                "description": "Stringified JSON that contains connector-specific default configuration for all events. Each event can have its own configuration that overrides the default settings here.",
                "type": "string"
              },
              "defaultEventsDestinations": {
                "description": "Default destinations for an event.",
                "type": "array",
                "items": {
                  "title": "EventStreamDestination",
                  "type": "object",
                  "required": [ "configuration", "target" ],
                  "properties": {
                    "configuration": {
                      "description": "The destination configuration.",
                      "title": "DestinationConfiguration",
                      "type": "object",
                      "properties": {
                        "key": {
                          "description": "The BrokerStateStore destination configuration key.",
                          "type": "string"
                        },
                        "path": {
                          "description": "The Storage destination configuration path.",
                          "type": "string"
                        },
                        "qos": {
                          "description": "The MQTT QoS setting.",
                          "title": "Qos",
                          "type": "string",
                          "enum": [
                            "Qos0",
                            "Qos1"
                          ]
                        },
                        "retain": {
                          "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                          "title": "Retain",
                          "type": "string",
                          "enum": [
                            "Keep",
                            "Never"
                          ]
                        },
                        "topic": {
                          "description": "The MQTT topic.",
                          "type": "string"
                        },
                        "ttl": {
                          "description": "The MQTT TTL setting.",
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 18446744073709551615
                        }
                      }
                    },
                    "target": {
                      "description": "The target destination.",
                      "title": "EventStreamTarget",
                      "type": "string",
                      "enum": [
                        "Mqtt",
                        "Storage"
                      ]
                    }
                  }
                }
              },
              "defaultManagementGroupsConfiguration": {
                "description": "Stringified JSON that contains connector-specific default configuration for all management groups. Each management group can have its own configuration that overrides the default settings here.",
                "type": "string"
              },
              "defaultStreamsConfiguration": {
                "description": "Stringified JSON that contains connector-specific default configuration for all streams. Each stream can have its own configuration that overrides the default settings here.",
                "type": "string"
              },
              "defaultStreamsDestinations": {
                "description": "Default destinations for a stream.",
                "type": "array",
                "items": {
                  "title": "EventStreamDestination",
                  "type": "object",
                  "required": [ "configuration", "target" ],
                  "properties": {
                    "configuration": {
                      "description": "The destination configuration.",
                      "title": "DestinationConfiguration",
                      "type": "object",
                      "properties": {
                        "key": {
                          "description": "The BrokerStateStore destination configuration key.",
                          "type": "string"
                        },
                        "path": {
                          "description": "The Storage destination configuration path.",
                          "type": "string"
                        },
                        "qos": {
                          "description": "The MQTT QoS setting.",
                          "title": "Qos",
                          "type": "string",
                          "enum": [
                            "Qos0",
                            "Qos1"
                          ]
                        },
                        "retain": {
                          "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                          "title": "Retain",
                          "type": "string",
                          "enum": [
                            "Keep",
                            "Never"
                          ]
                        },
                        "topic": {
                          "description": "The MQTT topic.",
                          "type": "string"
                        },
                        "ttl": {
                          "description": "The MQTT TTL setting.",
                          "type": "integer",
                          "minimum": 0,
                          "maximum": 18446744073709551615
                        }
                      }
                    },
                    "target": {
                      "description": "The target destination.",
                      "title": "EventStreamTarget",
                      "type": "string",
                      "enum": [
                        "Mqtt",
                        "Storage"
                      ]
                    }
                  }
                }
              },
              "description": {
                "description": "Human-readable description of the asset.",
                "type": "string"
              },
              "deviceRef": {
                "description": "Reference to the device that provides data for this asset. Must provide device name & endpoint on the device to use.",
                "title": "AssetDeviceRef",
                "type": "object",
                "required": [ "deviceName", "endpointName" ],
                "properties": {
                  "deviceName": {
                    "description": "Name of the device resource.",
                    "type": "string"
                  },
                  "endpointName": {
                    "description": "The name of endpoint to use.",
                    "type": "string"
                  }
                }
              },
              "discoveredAssetRefs": {
                "description": "Reference to a list of discovered assets. Populated only if the asset has been created from discovery flow. Discovered asset names must be provided.",
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "displayName": {
                "description": "Human-readable display name.",
                "type": "string"
              },
              "documentationUri": {
                "description": "Asset documentation reference.",
                "type": "string"
              },
              "enabled": {
                "description": "Enabled/Disabled status of the asset.",
                "type": "boolean"
              },
              "eventGroups": {
                "description": "Array of events that are part of the asset. Each event can have per-event configuration.",
                "type": "array",
                "items": {
                  "title": "AssetEventGroupSchemaElementSchema",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "dataSource": {
                      "description": "The address of the notifier of the event in the asset (e.g. URL) so that a client can access the event on the asset.",
                      "type": "string"
                    },
                    "defaultEventsDestinations": {
                      "description": "Default destinations for an event.",
                      "type": "array",
                      "items": {
                        "title": "EventStreamDestination",
                        "type": "object",
                        "required": [ "configuration", "target" ],
                        "properties": {
                          "configuration": {
                            "description": "The destination configuration.",
                            "title": "DestinationConfiguration",
                            "type": "object",
                            "properties": {
                              "key": {
                                "description": "The BrokerStateStore destination configuration key.",
                                "type": "string"
                              },
                              "path": {
                                "description": "The Storage destination configuration path.",
                                "type": "string"
                              },
                              "qos": {
                                "description": "The MQTT QoS setting.",
                                "title": "Qos",
                                "type": "string",
                                "enum": [
                                  "Qos0",
                                  "Qos1"
                                ]
                              },
                              "retain": {
                                "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                                "title": "Retain",
                                "type": "string",
                                "enum": [
                                  "Keep",
                                  "Never"
                                ]
                              },
                              "topic": {
                                "description": "The MQTT topic.",
                                "type": "string"
                              },
                              "ttl": {
                                "description": "The MQTT TTL setting.",
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 18446744073709551615
                              }
                            }
                          },
                          "target": {
                            "description": "The target destination.",
                            "title": "EventStreamTarget",
                            "type": "string",
                            "enum": [
                              "Mqtt",
                              "Storage"
                            ]
                          }
                        }
                      }
                    },
                    "eventGroupConfiguration": {
                      "description": "Stringified JSON that contains connector-specific configuration for the event. For OPC UA, this could include configuration like, publishingInterval, samplingInterval, and queueSize.",
                      "type": "string"
                    },
                    "events": {
                      "description": "Array of events that are part of the asset. Each event can have per-event configuration.",
                      "type": "array",
                      "items": {
                        "title": "AssetEventSchemaElementSchema",
                        "type": "object",
                        "required": [ "name" ],
                        "properties": {
                          "dataSource": {
                            "description": "Reference to a data source for a given event.",
                            "type": "string"
                          },
                          "destinations": {
                            "description": "Destinations for an event.",
                            "type": "array",
                            "items": {
                              "title": "EventStreamDestination",
                              "type": "object",
                              "required": [ "configuration", "target" ],
                              "properties": {
                                "configuration": {
                                  "description": "The destination configuration.",
                                  "title": "DestinationConfiguration",
                                  "type": "object",
                                  "properties": {
                                    "key": {
                                      "description": "The BrokerStateStore destination configuration key.",
                                      "type": "string"
                                    },
                                    "path": {
                                      "description": "The Storage destination configuration path.",
                                      "type": "string"
                                    },
                                    "qos": {
                                      "description": "The MQTT QoS setting.",
                                      "title": "Qos",
                                      "type": "string",
                                      "enum": [
                                        "Qos0",
                                        "Qos1"
                                      ]
                                    },
                                    "retain": {
                                      "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                                      "title": "Retain",
                                      "type": "string",
                                      "enum": [
                                        "Keep",
                                        "Never"
                                      ]
                                    },
                                    "topic": {
                                      "description": "The MQTT topic.",
                                      "type": "string"
                                    },
                                    "ttl": {
                                      "description": "The MQTT TTL setting.",
                                      "type": "integer",
                                      "minimum": 0,
                                      "maximum": 18446744073709551615
                                    }
                                  }
                                },
                                "target": {
                                  "description": "The target destination.",
                                  "title": "EventStreamTarget",
                                  "type": "string",
                                  "enum": [
                                    "Mqtt",
                                    "Storage"
                                  ]
                                }
                              }
                            }
                          },
                          "eventConfiguration": {
                            "description": "Stringified JSON that contains connector-specific configuration for the specific event.",
                            "type": "string"
                          },
                          "name": {
                            "description": "The name of the event.",
                            "type": "string"
                          },
                          "typeRef": {
                            "description": "URI or type definition ID.",
                            "type": "string"
                          }
                        }
                      }
                    },
                    "name": {
                      "description": "Name of the event group.",
                      "type": "string"
                    },
                    "typeRef": {
                      "description": "URI or type definition ID.",
                      "type": "string"
                    }
                  }
                }
              },
              "externalAssetId": {
                "description": "Asset ID provided by the customer.",
                "type": "string"
              },
              "hardwareRevision": {
                "description": "Asset hardware revision number.",
                "type": "string"
              },
              "lastTransitionTime": {
                "description": "A timestamp (in UTC) that is updated each time the resource is modified.",
                "type": "string",
                "format": "date-time"
              },
              "managementGroups": {
                "description": "Array of management groups that are part of the asset.",
                "type": "array",
                "items": {
                  "title": "AssetManagementGroupSchemaElementSchema",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "actions": {
                      "description": "Array of actions that are part of the management group. Each action can have an individual configuration.",
                      "type": "array",
                      "items": {
                        "title": "AssetManagementGroupActionSchemaElementSchema",
                        "type": "object",
                        "required": [ "actionType", "name", "targetUri" ],
                        "properties": {
                          "actionConfiguration": {
                            "description": "Configuration for the action.",
                            "type": "string"
                          },
                          "actionType": {
                            "description": "Type of the action.",
                            "title": "AssetManagementGroupActionType",
                            "type": "string",
                            "enum": [
                              "Call",
                              "Read",
                              "Write"
                            ]
                          },
                          "name": {
                            "description": "Name of the action.",
                            "type": "string"
                          },
                          "targetUri": {
                            "description": "The target URI on which a client can invoke the specific action.",
                            "type": "string"
                          },
                          "timeoutInSeconds": {
                            "description": "Response timeout for the action.",
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 18446744073709551615
                          },
                          "topic": {
                            "description": "The MQTT topic path on which a client will receive the request for the action.",
                            "type": "string"
                          },
                          "typeRef": {
                            "description": "URI or type definition ID.",
                            "type": "string"
                          }
                        }
                      }
                    },
                    "dataSource": {
                      "description": "Reference to a data source for a given management group.",
                      "type": "string"
                    },
                    "defaultTimeoutInSeconds": {
                      "description": "Default response timeout for all actions that are part of the management group.",
                      "type": "integer",
                      "minimum": 0,
                      "maximum": 18446744073709551615
                    },
                    "defaultTopic": {
                      "description": "Default MQTT topic path on which a client will receive the request for all actions that are part of the management group.",
                      "type": "string"
                    },
                    "managementGroupConfiguration": {
                      "description": "Stringified JSON that contains connector-specific configuration for the management group.",
                      "type": "string"
                    },
                    "name": {
                      "description": "Name of the management group.",
                      "type": "string"
                    },
                    "typeRef": {
                      "description": "URI or type definition ID.",
                      "type": "string"
                    }
                  }
                }
              },
              "manufacturer": {
                "description": "Asset manufacturer.",
                "type": "string"
              },
              "manufacturerUri": {
                "description": "Asset manufacturer URI.",
                "type": "string"
              },
              "model": {
                "description": "Asset model.",
                "type": "string"
              },
              "productCode": {
                "description": "Asset product code.",
                "type": "string"
              },
              "serialNumber": {
                "description": "Asset serial number.",
                "type": "string"
              },
              "softwareRevision": {
                "description": "Asset software revision number.",
                "type": "string"
              },
              "streams": {
                "description": "Array of streams that are part of the asset. Each stream can have per-stream configuration.",
                "type": "array",
                "items": {
                  "title": "AssetStreamSchemaElementSchema",
                  "type": "object",
                  "required": [ "name" ],
                  "properties": {
                    "destinations": {
                      "description": "Destinations for a Stream.",
                      "type": "array",
                      "items": {
                        "title": "EventStreamDestination",
                        "type": "object",
                        "required": [ "configuration", "target" ],
                        "properties": {
                          "configuration": {
                            "description": "The destination configuration.",
                            "title": "DestinationConfiguration",
                            "type": "object",
                            "properties": {
                              "key": {
                                "description": "The BrokerStateStore destination configuration key.",
                                "type": "string"
                              },
                              "path": {
                                "description": "The Storage destination configuration path.",
                                "type": "string"
                              },
                              "qos": {
                                "description": "The MQTT QoS setting.",
                                "title": "Qos",
                                "type": "string",
                                "enum": [
                                  "Qos0",
                                  "Qos1"
                                ]
                              },
                              "retain": {
                                "description": "When set to 'Keep', messages published to an MQTT broker will have the retain flag set.",
                                "title": "Retain",
                                "type": "string",
                                "enum": [
                                  "Keep",
                                  "Never"
                                ]
                              },
                              "topic": {
                                "description": "The MQTT topic.",
                                "type": "string"
                              },
                              "ttl": {
                                "description": "The MQTT TTL setting.",
                                "type": "integer",
                                "minimum": 0,
                                "maximum": 18446744073709551615
                              }
                            }
                          },
                          "target": {
                            "description": "The target destination.",
                            "title": "EventStreamTarget",
                            "type": "string",
                            "enum": [
                              "Mqtt",
                              "Storage"
                            ]
                          }
                        }
                      }
                    },
                    "name": {
                      "description": "Name of the stream definition.",
                      "type": "string"
                    },
                    "streamConfiguration": {
                      "description": "Stringified JSON that contains connector-specific JSON string that describes configuration for the specific stream.",
                      "type": "string"
                    },
                    "typeRef": {
                      "description": "URI or type definition ID.",
                      "type": "string"
                    }
                  }
                }
              },
              "uuid": {
                "description": "Globally unique, immutable, non-reusable id.",
                "type": "string"
              },
              "version": {
                "description": "A read-only integer that is incremented each time the resource is modified the cloud.",
                "type": "integer",
                "minimum": 0,
                "maximum": 18446744073709551615
              }
            }
          }
        }
      },
      "forms": [
        {
          "contentType": "application/json",
          "dtv:topic": "akri/connector/resources/telemetry/{ex:connectorClientId}/{ex:deviceName}/{ex:inboundEndpointName}/assetUpdateEvent",
          "op": "subscribeevent"
        }
      ]
    }
  }
}
