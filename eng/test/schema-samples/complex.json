{
  "@context": [
    "dtmi:dtdl:context;4",
    "dtmi:dtdl:extension:mqtt;2"
  ],
  "@id": "dtmi:example:Complex;1",
  "@type": [
    "Interface",
    "Mqtt"
  ],
  "payloadFormat": "Json/ecma/404",
  "commandTopic": "rpc/command-samples/{executorId}/{commandName}",
  "telemetryTopic": "telemetry/telemetry-samples/counterValue",
  "displayName": "Complex",
  "schemas": [
    {
      "@id": "dtmi:test:results;1",
      "@type": "Enum",
      "valueSchema": "string",
      "enumValues": [
        {
          "name": "success",
          "enumValue": "succès"
        },
        {
          "name": "failure",
          "enumValue": "échec"
        }
      ]
    },
    {
      "@id": "dtmi:test:intEnumProx;1",
      "@type": "Enum",
      "valueSchema": "integer",
      "description": "An enumerated value for expressing qualitative distance.",
      "enumValues": [
        {
          "name": "near",
          "enumValue": 1
        },
        {
          "name": "far",
          "enumValue": 2
        }
      ]
    }
  ],
  "contents": [
    {
      "@type": "Command",
      "name": "doSomething",
      "request": {
        "name": "input",
        "schema": {
          "@type": "Object",
          "fields": [
            {
              "name": "when",
              "schema": {
                "@type": "Enum",
                "valueSchema": "integer",
                "enumValues": [
                  {
                    "name": "now",
                    "enumValue": 1
                  },
                  {
                    "name": "later",
                    "enumValue": 2
                  }
                ]
              }
            },
            {
              "name": "actions",
              "schema": {
                "@type": "Array",
                "elementSchema": "string"
              }
            }
          ]
        }
      },
      "response": {
        "name": "output",
        "schema": {
          "@type": "Object",
          "fields": [
            {
              "name": "overallResult",
              "schema": "dtmi:test:results;1"
            },
            {
              "name": "magnitude",
              "schema": "decimal"
            },
            {
              "name": "details",
              "schema": {
                "@type": "Map",
                "mapKey": {
                  "name": "action",
                  "schema": "string"
                },
                "mapValue": {
                  "name": "result",
                  "schema": "dtmi:test:results;1"
                }
              }
            }
          ]
        }
      }
    },
    {
      "@type": "Telemetry",
      "name": "doubleMap",
      "schema": {
        "@type": "Map",
        "mapKey": {
          "name": "stringKey",
          "schema": "string"
        },
        "mapValue": {
          "name": "doubleValue",
          "schema": "double"
        }
      }
    }
  ]
}